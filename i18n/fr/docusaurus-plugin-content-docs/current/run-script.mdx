---
slug: /
title: Exécuter le script
description: En déclenchant le script d'exécution via un gestionnaire d'événements, vous pouvez réaliser l'exécution séquentielle d'opérations et effectuer différentes actions en fonction de différentes conditions.
---

# Exécuter le script

En déclenchant le script d'exécution via un gestionnaire d'événements, vous pouvez réaliser l'exécution séquentielle d'opérations et effectuer différentes actions en fonction de différentes conditions.

## Comment faire

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### Démo

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Exécuter et fork

https://illa.ai/app/ILAfx4p1C7Ac/detail

### Cas d'utilisation: Connexion et redirection vers différentes pages

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Exécuter et fork

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### Action de déclenchement

#### Structure

```JavaScript
const exampleData = attendre actionName.trigger();
```

Le nom de l'action est la chaîne affichée dans la capture d'écran, comme suit.

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### Libellé

Dans Run Script, la variable `exampleData` est la même que `actionName.data`.

#### Exemple

Par exemple, nous utilisons l'action `postgresql1` pour interroger l'email de James.

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

Déclencher l'action via le script d'exécution

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data` est

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }

```

Lorsque nous avons besoin d'utiliser JavaScript pour récupérer un e-mail dans l'inspection du composant ou ailleurs, nous pouvons utiliser ce qui suit : `{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

Et lorsque nous avons besoin d'utiliser l'email dans le "Exécuter le script" après avoir exécuté la requête `const exampleData = attendre postgresql1. rigger();`, nous pouvons directement utiliser `exampleData[0].email`.

Afficher une notification de succès lorsque la requête est réussie et que le résultat est unique. Afficher une notification d'échec lorsque le résultat de la requête n'est pas unique ou quand il échoue.

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = attendre postgresql1.trigger();
//affiche un email par notification lorsque la longueur du tableau résultant est 1.
if(exampleData.length==1){
utils. howNotification(
  {
    type:"info",
    titre:"Récupération réussie",
    description:exampleData[0]. mail,
    durée: 4500}
);
  }else{
  //else , affiche une notification échouée
utils. howNotification(
  {
    type:"info",
    title:"Impossible de récupérer",
    durée: 4500
  }
);
};
```

### Afficher la notification

#### Structure

```JavaScript
utils.showNotification(
{
type: "info",
title: "Félicitations",
description: "Récupéré avec succès",
durée: 4500
}
)
```

#### Libellé

| Paramètre           | Libellé                                                           | Type de données                                                                                | Exemple                               |
| ------------------- | ----------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- | ------------------------------------- |
| Type de type        | Utilisé pour définir le type d'icône dans la notification.        | String, une des valeurs suivantes:"info"`default`"success""error""warning"                     | type: "info"                          |
| Titre:              | Utilisé pour définir le titre de la notification                  | Chaîne de caractères                                                                           | title: "Félicitations"                |
| Libellé             | Utilisé pour définir la description                               | Chaîne de caractères                                                                           | description : "Récupération réussie"  |
| durée               | Utilisé pour définir la durée d'affichage de la notification.     | Nombre, en millisecondes (ms)                                                                  | durée: 4500                           |

#### Exemple

Afficher une notification lorsque vous cliquez sur le bouton:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

C'est la même chose que l'action Afficher la notification, comme la capture d'écran suivante l'indique:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### Composant de contrôle

#### Structure

```JavaScript
componentDisplayName.function()
```

componentDisplayName est la chaîne affichée dans la capture d'écran, comme suit.

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### Libellé

##### setValue(paramètre)

Utilisé pour définir la valeur. Le paramètre peut être un `string` ou `number` ou `object` ou `boolean` ou `array` qui dépend du type de composant.

###### Composants pris en charge

| Composant                                                                                                                                                                                   | Type de paramètre                                                       | Exemple                                                                                                                                                                                             |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Saisie, Texte modifiable, Zone de texte, Divider, Sélection, Groupe Radio, Bouton Radio, Bouton Radio, Date, Date et heure, Étapes de texte, Progression de la Barre, Progression du Cercle | `Chaîne`                                                                | `input1.setValue("Bonjour le monde")`                                                                                                                                                               |
| JSON Editor                                                                                                                                                                                 | `Chaîne`                                                                | jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Bio ": "Mots de kick de la Roundhouse depuis 1940", "password": "noneed", "téléphone": "1-800-KICKASS" }`)   |
| Échéancier                                                                                                                                                                                  | `string`, Séparez les valeurs des différents nœuds par des virgules (,) | `timeline1.setValue("The first milestone,The second milestone")`                                                                                                                                    |
| Entrée de nombre, Slider, Taux                                                                                                                                                              | `nombre`                                                                | `numberInput1.setValue(1000)`                                                                                                                                                                       |
| Commuter                                                                                                                                                                                    | `boolean`                                                               | `switch1.setValue(false)`                                                                                                                                                                           |
| Forme de Schéma JSON, forme                                                                                                                                                                 | `objet`                                                                 | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Mets de kicking Roundhouse depuis 1940", "password": "noneed", "telephone": "1-800-KICKASS" })`          |
| Groupe de cases à cocher, Cascader                                                                                                                                                          | `tableau`                                                               | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                             |

##### clearValue()

Utilisé pour effacer la valeur

###### Composants pris en charge

Saisie, saisie de numéros, texte modifiable, zone de texte, téléchargement, éditeur JSON, formulaire de schéma JSON, commutateur, sélection, sélection multiple, groupe de coche, groupe de case à cocher, Cascader, Groupe Radio, Bouton Radio, Date, Plage de Données, Date Horaire, Date Horaire, Texte, Rate, Barre Progress, Progression Circle, Chronologie, Divider

###### Exemple

```JavaScript
input1.clearValue()
```

##### focus()

Utilisé pour se concentrer sur le composant

###### Composants pris en charge

Saisie, saisie de chiffres, texte modifiable, zone de texte, éditeur JSON, éditeur de texte riche, groupe de radio,

###### Exemple

```JavaScript
input1.focus()
```

##### validate()

Lorsque vous avez défini des conditions de validation pour un composant, tel que le format de l'e-mail, le format de l'URL, ou champ obligatoire, vous pouvez utiliser la fonction `validate()` pour déterminer si elle répond aux exigences. Si elle ne répond pas aux exigences, un message de validation sera affiché.

Définir les conditions de validation :

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

Afficher le message de validation :

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### Composants pris en charge

Input, entrée de numéros, texte modifiable, zone de texte, téléchargement, sélection, sélection multiple, groupe de coche, groupe de radio, bouton radio, date, plage de date, heure de la date, formulaire, taux

###### Exemple

```JavaScript
input1.validate()
```

##### clearValidation()

Utilisé pour effacer le message de validation.

###### Composants pris en charge

Saisie, saisie de numéros, texte modifiable, zone de texte, téléchargement, sélection, sélection multiple, groupe de case à cocher, bouton radio, date, plage de date, heure et taux

###### Exemple

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(tableau)

Utilisé pour définir la valeur sélectionnée de sélection multiple. Le paramètre doit être un tableau.

###### Composants pris en charge

Sélection multiple

###### Exemple

```JavaScript
multiselect1.setSelectedValue(["Option 1", "Option 3"])
```

##### submit()

Soumettre les données du formulaire. Lorsque la méthode d'envoi est déclenchée, nous allons d'abord valider les données du formulaire. S'il y a des erreurs de validation, la soumission du formulaire sera évitée, et les messages d'erreur correspondants seront affichés. Ce n'est qu'après la validation réussie que la soumission se poursuit.

###### Composants pris en charge

Forme de Schéma JSON, forme

###### Exemple

```JavaScript
form1.submit()
```

##### toggle()

Utilisé pour basculer la valeur de true à false ou de false à true.

###### Composants pris en charge

Commuter

###### Exemple

```JavaScript
switch1.toggle()
```

##### setStartOfRange(number)

Utilisé pour définir la valeur de début par défaut du slider d'intervalle

###### Composants pris en charge

Range Slider

###### Exemple

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### format@@0 setEndOfRange(number)

Utilisé pour définir la valeur de fin par défaut du slider d'intervalle

###### Composants pris en charge

Range Slider

###### Exemple

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### format@@0 setStartValue(string)

Utilisé pour définir la valeur de départ par défaut

###### Composants pris en charge

Plage de dates, intervalle de temps

###### Exemple

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### format@@0 setEndValue(string)

Utilisé pour définir la valeur de fin par défaut

###### Composants pris en charge

Plage de dates, intervalle de temps

###### Exemple

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(tableau)

Utilisé pour définir les commutateurs dont la valeur est vraie

###### Composants pris en charge

Changer de groupe

###### Exemple

```JavaScript
switchGroup1.setValueInArray(["Option 1", "Option 3"])
```

##### selectionner la page(nombre)

Utilisé pour définir l'index de la page à afficher. L'index est un nombre à partir de 0.

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
Sélectionnez la page(1)
```

##### sélectionnerLigne(nombre)

Utilisé pour définir l'index de la ligne sélectionnée. L'index est un nombre à partir de 0.

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
Sélectionner la ligne du tableau(1)
```

##### clearSelection()

Utilisé pour effacer la ligne sélectionnée.

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
table1. clearSelection()
```

##### setFilters(tableau d'objets, chaîne)

Utilisé pour définir des filtres.

**Le premier paramètre** est un tableau d'objets. Chaque objet représente une condition de filtrage. Il comprend trois attributs:

**`id`** : se réfère à l'id de cette colonne. Si cette colonne est le résultat d'une requête de base de données, alors l'id sera le nom de la colonne que vous avez récupérée à partir de la requête. Par exemple, si la requête est `SELECT email AS user_email FROM users` et renommez `email` en utilisant le panneau de droite de la table, l'id de la colonne serait toujours `user_email` Si cette colonne est ajoutée manuellement en utilisant le bouton `Ajouter une colonne` dans le panneau de droite, vous pouvez vérifier son id dans la section `displayedData` du panneau de gauche. Typiquement, ce sera une chaîne générée aléatoirement commençant par `column` comme `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : le type de correspondance du filtre. Nous supportons les types suivants : `equalTo` qui est le même que `=` en SQL, `notEqualTo` qui est le même que `<>` en SQL, `contains` qui est le même que `LIKE '%value%'` en SQL, `does NotContain` which is the same as `NOT LIKE '%value%'` in SQL, `lessThan` qui est le même que `<` en SQL, `notLessThan` qui est le même que `>=` en SQL, `notMoreThan` qui est le même que `<=` en SQL, `empty` qui est le même que `IS NULL` en SQL, `notEmpty` qui est le même que `IS NOT NULL` en SQL, `avant` est utilisé pour comparer l'heure ou la date, qui est la même que `>` en SQL, `after` est utilisé pour comparer l'heure ou la date, qui est la même que `<` en SQL.

**`value`** : utilisé pour définir la valeur à comparer.

**Le second paramètre :** lorsqu'il y a plusieurs objets de condition de filtre, il détermine s'ils ont une relation "ET" ou une relation "OU". Définissez le comme une chaîne de caractères `et` pour une relation "ET", et `ou` pour une relation "OU".

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"May"}, {"id":"month", "filterFn":"equalTo", "value":"June"}], "ou")
```

##### clearFilters()

Utilisé pour effacer tous les filtres

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
table1.clearFilters()
```

##### setSort(string, string)

Utilisé pour définir le tri. **Le premier paramètre** est l'id de la colonne à trier qui est une valeur de chaîne de caractères. L'id est le même que l'id mentionné dans setFilters(tableau d'objets, chaîne). **Le second paramètre** est l'ordre de tri, croissant ou décroissant. Il est défini en utilisant une valeur de chaîne `ascend` ou `descend`.

###### Composants pris en charge

Tableau

###### Exemple

```JavaScript
table1.setSort("revenus", "descendant")
```

##### format@@0 setCurrentViewKey(string)

Utilisez la clé qui est une valeur de chaîne de la vue pour définir la vue affichée.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
container1.setCurrentViewKey("Voir 2")
```

##### Afficher/Masquer l'index de la vue actuelle

Utilisez l'index qui est une valeur de nombre à partir de 0 de la vue pour définir la vue affichée.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
format@@0 container1.setCurrentViewIndex(1)
```

##### Afficher la vue suivante (booléen)

Utilisé pour afficher la vue suivante. Le paramètre est une valeur booléenne qui détermine s'il faut boucler de la fin au début.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
container1.showNextView(true)
```

##### Afficher/Masquer la vue (booléen)

Utilisé pour afficher la vue visible suivante. Contrairement au comportement de la fonction `showNextView(boolean)`, cette fonction offre une fonctionnalité de changement de vue améliorée en ignorant toute vue cachée pendant la transition. Le paramètre est une valeur booléenne qui détermine s'il faut boucler de la fin au début.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
format@@0 container1.showNextVisibleView(false)
```

##### Afficher la vue précédente()

Utilisé pour afficher la vue précédente. Le paramètre est une valeur booléenne qui détermine s'il faut boucler du début à la fin.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
affichera la vue précédente (vrai)
```

##### Afficher la vue précédente

Utilisé pour afficher la vue visible précédente. Contrairement au comportement de la fonction `showPreviousView(boolean)`, cette fonction offre une fonctionnalité de changement de vue améliorée en ignorant toute vue cachée pendant la transition. Le paramètre est une valeur booléenne qui détermine s'il faut boucler du début à la fin.

###### Composants pris en charge

Conteneur

###### Exemple

```JavaScript
affichez la vue Visible précédente (true)
```

##### reset()

Utilisé pour réinitialiser la valeur à la valeur par défaut.

###### Composants pris en charge

Forme

###### Exemple

```JavaScript
form1.reset()
```

##### resetValue()

Utilisé pour réinitialiser la valeur à la valeur par défaut.

###### Composants pris en charge

Étapes

###### Exemple

```JavaScript
étapes1.resetValue()
```

##### openModal()

Utilisé pour ouvrir une fenêtre modale

###### Composants pris en charge

Modal

###### Exemple

```JavaScript
modal1.openModal()
```

##### closeModal()

Utilisé pour fermer une fenêtre modale

###### Composants pris en charge

Modal

###### Exemple

```JavaScript
modal1.closeModal()
```

##### format@@0 setImageUrl(string)

Utilisé pour définir l'URL de la source de l'image. Il peut s'agir d'une Base64 ou d'une URL pointant vers une image sur le Web.

###### Composants pris en charge

Image

###### Exemple

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl("data:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage()

Utilisé pour effacer le message de réponse cité au-dessus de la zone de saisie.

###### Composants pris en charge

Discuter

###### Exemple

```JavaScript
chat1.clearReplyMessage()
```

##### format@@0 setPrimaryValue(number)

Utilisé pour définir la valeur principale des statistiques.

###### Composants pris en charge

Statistiques

###### Exemple

```JavaScript
statistique1.setPrimaryValue(100)
```

##### réinitialiserPrimaryValue()

Utilisé pour réinitialiser la valeur principale à la valeur principale par défaut des statistiques.

###### Composants pris en charge

Statistiques

###### Exemple

```JavaScript
statistic1.resetPrimaryValue()
```

##### format@@0 setFileUrl(string)

Utilisé pour définir l'URL du fichier. Il peut s'agir d'une Base64 ou d'une URL pointant vers un PDF sur le Web.

###### Composants pris en charge

PDF

###### Exemple

```JavaScript
pdf1.setFileUrl("https://upload.wikimedia.org/wikipedia/commons/e/ee/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### play()

Utilisé pour lire la vidéo ou l'audio.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.play()
```

##### pause()

Utilisé pour mettre en pause vidéo ou audio.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.pause()
```

##### showControls(booléen)

Utilisé pour définir s'il faut afficher les contrôles.

###### Composants pris en charge

Vidéo

###### Exemple

```JavaScript
video1.showControls(true)
```

##### format@@0 setVideoUrl(string)

Utilisé pour définir l'URL de l'audio. Il peut s'agir d'une Base64 ou d'une URL vidéo sur des sites Web multimédia.

###### Composants pris en charge

Vidéo

###### Exemple

```JavaScript
video1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(nombre)

Utilisé pour définir le volume. Le paramètre est un nombre compris entre 0 et 1.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

`video1.setVolume(0.5)`

##### setSpeed(nombre)

Utilisé pour définir la vitesse. Le paramètre est une valeur numérique comprise entre 0,25 et 2.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.setSpeed(0.5)
```

##### setLoop(booléen)

Utilisé pour définir s'il faut boucler la lecture.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.setLoop(false)
```

##### seekTo(nombre)

Utilisé pour rechercher une position temporelle spécifique. Le paramètre est une valeur de nombre, mesurée en seconde(s). Par exemple, pour aller à la position 5:35, vous utiliseriez la valeur 335.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.seekTo(335)
```

##### mute(boolean)

Utilisé pour mettre en sourdine ou non.

###### Composants pris en charge

Vidéo, Audio

###### Exemple

```JavaScript
video1.mute(true)
```

##### format@@0 setAudioUrl(string)

Utilisé pour définir l'URL de l'audio. Utilisé pour définir l'URL de la vidéo. Il peut s'agir d'une Base64 ou d'une URL vidéo sur des sites Web multimédia.

###### Composants pris en charge

Audio

###### Exemple

```JavaScript
video1.setAudioUrl("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### format@@0 slickNext()

Utilisé pour passer à l'image suivante.

###### Composants pris en charge

Carousel

###### Exemple

```JavaScript
carousel1.slickNext()
```

##### slickPrevious()

Utilisé pour basculer vers l'image précédente.

###### Composants pris en charge

Carousel

###### Exemple

```JavaScript
carousel1.slickPrevious()
```

##### setSrc()

Utilisé pour définir l'URL source d'IFrame.

###### Composants pris en charge

IFrame

###### Exemple

```JavaScript
iframe1.setSrc("https://www.nasa.gov/")
```

##### setMarkers(tableau)

Utilisé pour définir les marqueurs sur la carte. Le paramètre doit être un tableau d'objets. Les champs de latitude et de longitude de chaque objet doivent être les mêmes que les champs définis dans le panneau de droite

###### Composants pris en charge

Carte

###### Exemple

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.982563795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
])
```

##### resetMarkers()

Utilisé pour réinitialiser les marqueurs aux marqueurs par défaut.

###### Composants pris en charge

Carte

###### Exemple

```JavaScript
map1.resetMarkers()
```

### Aller à l'URL

#### Structure

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### Libellé

Utilisez un objet pour le définir. Il y a 2 attributs dans l'objet. Le premier attribut est `url`. Sa valeur est une URL complète, y compris 'https://' ou 'http://', et elle est de type string. Le deuxième attribut est `newTab`. C'est un booléen utilisé pour définir s'il faut ouvrir l'URL dans un nouvel onglet.

#### Exemple

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### Copier dans le presse-papiers

#### Structure

```JavaScript
utils.copyToClipboard(string)
```

#### Libellé

Utilisé pour copier une chaîne de caractères

#### Exemple

```JavaScript
utils.copyToClipboard("The text to cop")
```

### Définir le routeur

#### Structure

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

#### Libellé

Utilisé pour modifier la page dans les applications ILLA. Il y a 2 attributs dans l'objet.

Le premier attribut est `pagePath`. La valeur de pagePath est affichée sur la capture d'écran suivante sans `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

Le deuxième attribut est `viewPath`. La valeur de viewPath est affichée sur la capture d'écran suivante sans `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### Exemple

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"sous-page1"
})
```

### Enregistrer sur ILLA Drive

#### Structure

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonyme:boolean,
replace:boolean
})
```

#### Libellé

Utilisé pour enregistrer un fichier sur le lecteur ILLA.

`fileName`: Nom avec l'extension du fichier après avoir téléchargé sur ILLA Drive.

`fileData` : Base64 ou données de fichiers bruts telles que JSON, CSV, texte brut, etc.

`fileType`: Une des valeurs suivantes : Auto, Texte Plain, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). Lorsque vous utilisez "Auto", nous tenterons de déterminer le type de fichier en fonction de l'extension du fichier ou des données du fichier.

`dossier`: dossier de destination pour l'envoi de fichiers. Laissez vide pour téléverser dans le dossier racine.

`allowAnonyme`: utilisé pour définir si l'accès utilisateur anonyme est autorisé. Si vous prévoyez de définir votre application comme public, l'accès anonyme doit être activé. Pour la sécurité de vos données, les fichiers ou dossiers accessibles anonymement doivent être placés dans le dossier anonyme.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`replace`: utilisé pour définir quand il y a des fichiers avec le même nom dans le même répertoire, remplacez le fichier existant par un nouveau fichier ou renommez automatiquement le nouveau fichier.

#### Exemple

```JavaScript
//utilisez upload1 pour choisir des fichiers depuis l'appareil et télécharger vers le dossier des applications. 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1. iles[0].dataURI,
fileType:"PNG",
dossier:"apps",
allowAnonyme:false,
replace:true
})
```

```JavaScript
//upload un fichier texte.  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Texte brut",
dossier:"apps",
allowAnonyme:false,
replace:true
})
```

### Télécharger depuis le lecteur ILLA

#### Structure

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### Libellé

Utilisé pour télécharger des fichiers depuis ILLA Drive.

`downloadInfo`: un tableau d'objets incluant tinyURL et fileID. Vous pouvez utiliser le sélecteur de fichier du lecteur de composant pour choisir les fichiers du lecteur ILLA et obtenir le `downloadInfo` via drivePicker1.value

`asZip`: utilisé pour définir si vous voulez télécharger les fichiers en format ZIP.

#### Exemple

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### Télécharger

#### Structure

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### Libellé

Utilisé pour exporter des données vers votre appareil.

`fileType`: Une des valeurs suivantes : Auto, Texte Plain, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). Lorsque vous utilisez "Auto", nous tenterons de déterminer le type de fichier en fonction de l'extension du fichier ou des données du fichier.

`fileName`: un nom avec une extension.

`data`: données du fichier.

#### Exemple

```JavaScript
//Télécharger les données de la table sous la forme d'un CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    données: table2.dataSourceJS
})
```

```JavaScript
//télécharger l'image
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    données: image1.imageSrc
})
```

### Définir les données globales

#### Définir la valeur des données globales

##### Structure

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### Libellé

Utilisé pour définir la valeur de gobalData

`key`: le displayName de globalData comme le montre la capture d'écran suivante.

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`value`: la valeur à définir

##### Exemple

```JavaScript
//utilisez input5 pour obtenir la valeur d'entrée de l'utilisateur et définir comme valeur de stringState. 
utils.setGlobalDataValue({
key:"stringState", 
value:input5.value
})
```

#### Définir les données globales dans

##### Structure

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### Libellé

Lorsque les données globales sont un tableau ou un objet, utilisez setGlobalDataIn pour modifier la valeur correspondant à un index spécifique dans un tableau ou pour modifier la valeur correspondant à une clé spécifique dans un objet.

`key`: le displayName de globalData.

`path`: l'index de la valeur que vous avez l'intention de mettre à jour dans le tableau ou la clé de l'objet. Par exemple, pour définir la seconde valeur dans le tableau, le chemin est 1 (l'index). Pour définir la valeur de l'attribut nommé key1, le chemin est key1.

`value`: la valeur à définir

##### Exemple

```JavaScript
//objectState est un objet : {"key1":"value1", "key2":"value2"}, pour définir 
utils.setGlobalDataIn({
key:"objectState", 
path:"key2", 
value:input7.value
})
```

## Bibliothèques intégrées

| **Bibliothèque**   | **Doc**                                                               | **Comment l'utiliser dans ILLA Builder** | **Exemple**                                                   |
| ------------------ | --------------------------------------------------------------------- | ---------------------------------------- | ------------------------------------------------------------- |
| Libellé            | https://lodash.com/docs/4.17.15                                       | `_`                                      | `_.concat(tableau, 2, [3], [[4]]);`                           |
| Jour.js            | https://day.js.org/                                                   | `dayjs`                                  | `dayjs(new Date())`                                           |
| uuid               | <https://www.npmjs.com/package/uuid>                                  | `uuid`                                   | `uuid.parse()`                                                |
| numbro             | https://numbrojs.com/                                                 | `numbro`                                 | `numbro(1000).format({thousandSeparated: true})`              |
| Papa               | https://www.papaparse.com/docs                                        | `Papa`                                   | `Papa.parse(url, {download: true, // reste de config ... })`  |

## Valeur des actions, composants...

Utilisez `displayName.xxx` pour utiliser la valeur des actions, composants, ou autres globalData. Veuillez noter que dans le script Exécuter, ces variables peuvent être accédées directement sans utiliser les références `{{`.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark_button:
    asZip:true
})
```
