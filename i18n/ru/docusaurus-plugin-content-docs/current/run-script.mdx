---
slug: /
title: Запустить скрипт
description: Путем запуска Запуск Скрипта через обработчик событий можно добиться последовательного выполнения операций и выполнять различные действия, основанные на различных условиях.
---

# Запустить скрипт

Путем запуска Запуск Скрипта через обработчик событий можно добиться последовательного выполнения операций и выполнять различные действия, основанные на различных условиях.

## Инструкции

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### Демо

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Выполнить и форк

https://illa.ai/app/ILAfx4p1C7Ac/detail

### Вариант использования: Логин и перенаправление на разные страницы

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Выполнить и форк

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### Действие триггера

#### Структура

```JavaScript
const exampleData = ожидание действия Имя.trigger();
```

Действие - это строка, показанная на скриншоте следующим образом.

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### Описание

В Run Script переменная `exampleData` совпадает с `actionName.data`.

#### Пример

Например, мы используем действие `postgresql1` для запроса по электронной почте James.

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

Запустить действие через Run Script

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data`

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

Когда нам нужно использовать JavaScript для получения электронной почты в аспекте компонента или в другом месте, мы можем использовать следующее: `{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

И когда нам нужно использовать электронное письмо в "Запустить скрипт" после выполнения оператора `const exampleData = await postgresql1. rigger();`, мы можем напрямую использовать `exampleData[0].email`.

Показывать уведомление об успехе запроса и уникальный результат. Показывать уведомление о сбое, когда результат запроса не уникален или не удался.

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = await postgresql1.trigger();
//показать электронную почту через уведомление, когда длина результирующего массива 1.
if(exampleData.length==1){
утилит. howNotification(
  {
    type:"info",
    title:"Получено успешно",
    description:exampleData[0]. mail,
    duration: 4500}
);
  }else{
  //else, show the failed notification
utils. howNotification(
  {
    type:"info",
    title:"Failed to retrieve",
    длительность: 4500
  }
);
};
```

### Показать уведомление

#### Структура

```JavaScript
utils.showNotification(
{
type: "info",
title: "Congratulations",
description: "Retrieved successfully",
duration: 4500
}
)
```

#### Описание

| Параметр        | Описание                                                         | Тип данных                                                                        | Пример                                         |
| --------------- | ---------------------------------------------------------------- | --------------------------------------------------------------------------------- | ---------------------------------------------- |
| тип             | Используется для установки типа значка в уведомлении.            | Строка, одно из следующих значений:"info"`default`"Успешна""error""warning"       | тип: "Информация"                              |
| название        | Используется для установки заголовка уведомления                 | Строка                                                                            | title: "Поздравляем"                           |
| описание        | Используется для установки описания                              | Строка                                                                            | описание: "Получено успешно"                   |
| длительность    | Используется для установки длительности отображения уведомления. | Число, в миллисекундах (мс)                                                       | продолжительность: 4500                        |

#### Пример

Показывать уведомление при нажатии кнопки:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

Это то же самое, что и действие "Показать уведомления", как показано на следующем скриншоте экрана:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### Компонент управления

#### Структура

```JavaScript
componentDisplayName.function()
```

componentDisplayName - строка, показанная на скриншоте следующим образом.

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### Описание

##### setValue(параметр)

Используется для установки значения. Параметр может быть `string` или `number` или `object` или `boolean` или `array`, который зависит от типа компонента.

###### Поддерживаемые компоненты

| Компонент                                                                                                                                                      | Тип параметра                                                     | Пример                                                                                                                                                                                     |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Input, Editable Text, Text Area, Divider, Select, Radio Group, Radio Button, Radio Buttonm, Date, Date Time, Шаги, Text, Bar Progress, Круг прогресса          | `строка`                                                          | `input1.setValue("Привет мир")`                                                                                                                                                            |
| JSON Editor                                                                                                                                                    | `строка`                                                          | jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" }`)        |
| Хронология                                                                                                                                                     | `строка`, разделите значения различных узлов запятой (,)          | `timeline1.setValue("Первый этап,второй этап")`                                                                                                                                            |
| Числовой ввод, Слайдер, Оценить                                                                                                                                | `number`                                                          | `numberInput1.setValue(1000)`                                                                                                                                                              |
| Переключатель                                                                                                                                                  | `boolean`                                                         | `switch1.setValue(false)`                                                                                                                                                                  |
| Форма схемы JSON, Форма                                                                                                                                        | `объект`                                                          | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" })`    |
| Checkbox Group, Cascader                                                                                                                                       | `массив`                                                          | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                    |

##### clearValue()

Используется для очистки значения

###### Поддерживаемые компоненты

Input, Number Input, Editable Text, Text Area, Upload, JSON Editor, JSON Schema Form, Switch, Select, Multiselect, Checkbox Group, Каскадер, Радио Группа, Радио Кнопка, Дата, Диапазон дат, Время даты, Время, Текст, Ставка, Прогресс, Круглый Прогресс, Линия времени, Разделитель времени

###### Пример

```JavaScript
input1.clearValue()
```

##### focus()

Используется для фокусировки на компоненте

###### Поддерживаемые компоненты

Input, Number Input, Editable Text, Text Area, JSON Editor, Rich text editor, Radio Group,

###### Пример

```JavaScript
input1.focus()
```

##### validate()

Когда вы устанавливаете условия проверки для компонента, такие как формат электронной почты, формат URL, или требуемое поле, вы можете использовать функцию «validate()», чтобы определить, соответствует ли она требованиям. Если это не соответствует требованиям, будет показано сообщение о валидации.

Установите условия проверки:

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

Отобразить сообщение валидации:

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### Поддерживаемые компоненты

Вход, числовый ввод, редактируемый текст, текстовая область, Отдата, Выбрать, Multiselect, Checkbox Group, Радио Группа, Радио кнопка, Дата, Дата, Диапазон дат, Форм, Процент

###### Пример

```JavaScript
input1.validate()
```

##### clearValidation()

Используется для очистки сообщения о подтверждении.

###### Поддерживаемые компоненты

Вход, числовое значение, редактируемый текст, текстовая область, Отдата, Выбрать, Multiselect, Checkbox Group, Радио кнопка, Дата, Диапазон дат, Ставка

###### Пример

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(массив)

Используется для установки выбранного значения Multiselect. Параметр должен быть массивом.

###### Поддерживаемые компоненты

Множественный выбор

###### Пример

```JavaScript
multiselect1.setSelectedValue(["Опция 1", "Вариант 3"])
```

##### submit()

Отправить данные формы. При срабатывании метода отправки, мы сначала проверим данные формы. Если есть ошибки проверки, отправка формы будет предотвращена и будут показаны соответствующие сообщения об ошибках. Публикация продолжается только после успешной проверки.

###### Поддерживаемые компоненты

Форма схемы JSON, Форма

###### Пример

```JavaScript
form1.submit()
```

##### переключить()

Используется для переключения значения от true к false или с false на true.

###### Поддерживаемые компоненты

Переключатель

###### Пример

```JavaScript
switch1.toggle()
```

##### setStartOfRange(number)

Используется для установки начального значения по умолчанию для ползунка диапазона

###### Поддерживаемые компоненты

Range Slider

###### Пример

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### setEndOfRange(число)

Используется для установки конечного значения по умолчанию для ползунка диапазона

###### Поддерживаемые компоненты

Range Slider

###### Пример

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### setStartValue(строка)

Используется для установки начального значения по умолчанию

###### Поддерживаемые компоненты

Диапазон дат, диапазон времени

###### Пример

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### setEndValue(строка)

Используется для установки конечного значения по умолчанию

###### Поддерживаемые компоненты

Диапазон дат, диапазон времени

###### Пример

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(массив)

Используется для установки переключателей, значение которых истинно

###### Поддерживаемые компоненты

Переключить группу

###### Пример

```JavaScript
switchGroup1.setValueInArray(["Option 1", "Option 3"])
```

##### selectPage(число)

Используется для установки индекса страницы для отображения. Индекс - это число, начинающееся с 0.

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.selectPage(1)
```

##### selectRow(number)

Используется для установки индекса выбранной строки. Индекс - это число, начинающееся с 0.

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.selectRow(1)
```

##### clearSelection()

Используется для очистки выбранной строки.

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.clearSelection()
```

##### setFilters(массив объектов, строка)

Используется для установки фильтров.

**Первый параметр** — это массив объектов. Каждый объект представляет условие фильтрации. Он включает три атрибута:

**`id`** : Это относится к идентификатору этого столбца. Если этот столбец является результатом запроса базы данных, то будет именем столбца, который вы получили из запроса. Например, если запрос `SELECT email AS user_email FROM users` и переименуйте `email` как `Email` используя правую панель таблицы, идентификатор столбца все еще будет `user_email` Если этот столбец будет добавлен вручную, используя кнопку `Добавить столбец` в правой панели, вы можете проверить его идентификатор в разделе "displayedData" левой ручной панели. Обычно это строка, генерируемая случайным образом начиная с `column`, например `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : тип фильтра. Мы поддерживаем следующие типы: `equalTo`, который совпадает с `=` в SQL, `notEqualTo`, который совпадает с `<>` в SQL, `contains`, который совпадает с `LIKE '%value%'` в SQL, `делает NotContain`, который совпадает с `NOT LIKE '%value%'` в SQL, `lessThan`, совпадающий с `<` в SQL, `notLessThan`, который совпадает с `>=` в SQL, `notMoreThan`, совпадающий с `<=` в SQL, `empty`, который совпадает с `IS NULL` в SQL, `notEmpty`, который совпадает с `IS NOT NULL` в SQL, `before` используется для сравнения времени или даты, что такое же, как `>` в SQL, `after` используется для сравнения времени или даты, которые совпадают с `<` в SQL.

**`value`** : используется для сравнения значений.

**Второй параметр:** когда существует несколько условий фильтра, он определяет, имеет ли отношение «ИЛИ» или отношение «ИЛИ». Установил его как строку «и» для отношений «AND» и «или» для отношений «или».

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"May"}, {"id":"month", "filterFn":"equalTo", "value":"Июнь"}], "или")
```

##### clearFilters()

Используется для очистки всех фильтров

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.clearFilters()
```

##### setSort(string, string)

Используется для установки сортировки. **Первый параметр** — это идентификатор столбца, который сортирует строковое значение. Идентификатор совпадает с идентификатором, указанным в setFilters(массив объектов, строка). **Второй параметр** — порядок сортировки по возрастанию или по убыванию. Он устанавливается с помощью строкового значения «ascend» или «descend».

###### Поддерживаемые компоненты

Таблица

###### Пример

```JavaScript
table1.setSort("Доход", "По убытию")
```

##### setCurrentViewKey(строка)

Используйте ключ, который является строковым значением представления, чтобы установить показанный вид.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.setCurrentViewKey("Вид 2")
```

##### setТекущий индекс (число)

Используйте индекс, который является числом, начинающимся с 0 просмотра, чтобы установить показанный вид.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.setCurrentViewIndex(1)
```

##### showNextView(логический)

Используется для показа следующего вида. Параметр является логическим значением, определяющим цикл от конца до начала.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.showNextView(true)
```

##### showNextVisibleView(boolean)

Используется для показа следующего видимого вида. В отличие от поведения функции `showNextView(boolean)`, эта функция позволяет улучшить переключение видов, пропустив любые скрытые виды во время перехода. Параметр является логическим значением, определяющим цикл от конца до начала.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.showNextVisibleView(false)
```

##### показать Предыдущий View()

Используется для отображения предыдущего вида. Параметр является логическим значением, определяющим цикл от начала назад до конца.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.showПредыдущий Вид (true)
```

##### showPreviousVisibleView()

Используется для отображения предыдущего видимого вида. В отличие от поведения функции `showPreviousView(boolean)`, эта функция позволяет улучшить переключение вида, пропустив любые скрытые виды во время перехода. Параметр является логическим значением, определяющим цикл от начала назад до конца.

###### Поддерживаемые компоненты

Контейнер

###### Пример

```JavaScript
container1.showPreviousVisibleView(true)
```

##### reset()

Используется для сброса значения по умолчанию.

###### Поддерживаемые компоненты

Форма

###### Пример

```JavaScript
form1.reset()
```

##### resetValue()

Используется для сброса значения по умолчанию.

###### Поддерживаемые компоненты

Шаги

###### Пример

```JavaScript
steps1.resetValue()
```

##### openModal()

Используется для открытия модаля

###### Поддерживаемые компоненты

Модаль

###### Пример

```JavaScript
modal1.openModal()
```

##### closeModal()

Используется для закрытия модаля

###### Поддерживаемые компоненты

Модаль

###### Пример

```JavaScript
modal1.closeModal()
```

##### setImageUrl(строка)

Используется для установки URL источника изображения. Это может быть Base64 или URL, указывающий на изображение в Интернете.

###### Поддерживаемые компоненты

Изображение

###### Пример

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl("данные:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage()

Используется для очистки цитируемого ответа над окном ввода.

###### Поддерживаемые компоненты

Чат

###### Пример

```JavaScript
chat1.clearReplyMessage()
```

##### setPrimaryValue(число)

Используется для установки первичного значения статистики.

###### Поддерживаемые компоненты

Статистика

###### Пример

```JavaScript
statistic1.setPrimaryValue(100)
```

##### resetPrimaryValue()

Используется для сброса основного значения по умолчанию первичной статистики.

###### Поддерживаемые компоненты

Статистика

###### Пример

```JavaScript
statistic1.resetPrimaryValue()
```

##### setFileUrl(строка)

Используется для установки URL файла. Это может быть Base64 или URL, указывающий на PDF в Интернете.

###### Поддерживаемые компоненты

PDF

###### Пример

```JavaScript
pdf1.setFileUrl("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### play()

Используется для воспроизведения видео или аудио.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.play()
```

##### пауз()

Используется для приостановки видео или аудио.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.pause()
```

##### showControls(boolean)

Используется для установки отображения элементов.

###### Поддерживаемые компоненты

Видео

###### Пример

```JavaScript
video1.showControls(true)
```

##### setVideoUrl(строка)

Используется для установки URL видео. Это может быть Base64 или видео URL на медиа-сайтах.

###### Поддерживаемые компоненты

Видео

###### Пример

```JavaScript
video1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

##### setVolum(число)

Используется для установки громкости. Параметр является числовым значением от 0 до 1.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

`video1.setVolume(0.5)`

##### setSpeed(число)

Используется для установки скорости. Параметр является числовым значением от 0,25 до 2.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.setSpeed(0.5)
```

##### setLoop(boolean)

Используется для установки цикла воспроизведения.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.setLoop(false)
```

##### seekTo(номер)

Используется для поиска конкретной временной позиции. Параметр представляет собой числовое значение, измеряемое в секундах (секундах). Например, для поиска временной позиции 5:35, вы можете использовать значение 335.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.seekTo(335)
```

##### mute(boolean)

Используется для отключения звука или нет.

###### Поддерживаемые компоненты

Видео, аудио

###### Пример

```JavaScript
video1.mute(true)
```

##### setAudioUrl(строка)

Используется для установки URL звука. Это может быть Base64 или видео URL на медиа-сайтах.

###### Поддерживаемые компоненты

Аудио

###### Пример

```JavaScript
video1.setAudioUrl("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### slickNext()

Используется для переключения на следующее изображение.

###### Поддерживаемые компоненты

Carousel

###### Пример

```JavaScript
carousel1.slickNext()
```

##### slickПредыдущий ()

Используется для переключения на предыдущее изображение.

###### Поддерживаемые компоненты

Carousel

###### Пример

```JavaScript
carousel1.slickПредыдущий ()
```

##### setSrc()

Используется для установки исходного URL IFrame.

###### Поддерживаемые компоненты

IFrame

###### Пример

```JavaScript
iframe1.setSrc("https://www.nasa.gov/")
```

##### setMarkers(массив)

Используется для установки маркеров на карте. Параметр должен быть массивом объектов. Поля широты и долготы в каждом объекте должны быть такими же, как поля, установленные на правой панели

###### Поддерживаемые компоненты

Карта

###### Пример

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
])
```

##### resetMarkers()

Используется для сброса маркеров к маркерам по умолчанию.

###### Поддерживаемые компоненты

Карта

###### Пример

```JavaScript
map1.resetMarkers()
```

### Перейти по URL

#### Структура

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### Описание

Используйте объект, чтобы установить его. В объекте есть 2 атрибута. Первый атрибут — `url`. Его значение является полным URL, включая 'https://' или 'http://', и имеет тип строки. Второй атрибут — `newTab`. Это логическое значение, используемое для установки открытия URL в новой вкладке.

#### Пример

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### Копировать в буфер обмена

#### Структура

```JavaScript
utils.copyToClipboard(строка)
```

#### Описание

Используется для копирования строки

#### Пример

```JavaScript
utils.copyToClipboard("Текст для копирования")
```

### Установить маршрутизатор

#### Структура

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

#### Описание

Используется для изменения страницы в ILLA приложениях. В объекте есть 2 атрибута.

Первым атрибутом является `pagePath`. Значение pagePath отображается на следующем скриншоте без `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

Второй атрибут — `viewPath`. Значение viewPath отображается на следующем скриншоте без `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### Пример

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"subpage1"
})
```

### Сохранить в ILLA Drive

#### Структура

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonymous:boolean,
replace:boolean
})
```

#### Описание

Используется для сохранения файла в ILLA Drive.

`fileName`: Имя с расширением файла после загрузки в ILLA Drive.

`fileData`: Base64 или необработанные файловые данные, такие как JSON, CSV, простой текст и т.д.

`fileType`: Одно из следующих значений: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). При использовании "Auto" мы попытаемся определить тип файла на основе либо расширения файла, либо данных файла.

`folder`: папка назначения для загрузки файла. Оставьте пустым для загрузки в корневую папку.

`allowAnonymous`: Используется для установки разрешения анонимного доступа пользователя. Если вы планируете сделать ваше приложение общедоступным, необходимо включить анонимный доступ. Для безопасности ваших данных, файлов или папок, доступных анонимно, необходимо поместить в папку анонимно.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`replace`: Используется для установки при наличии файлов с одним и тем же именем в той же директории, заменить существующий файл новым файлом или автоматически переименовать новый файл.

#### Пример

```JavaScript
//используйте upload1 для выбора файлов с устройства и загрузки в папку приложений. 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1. iles[0].dataURI,
fileType:"PNG",
папка:"apps",
allowAnonymous:false,
replace:true
})
```

```JavaScript
//загрузите текстовый файл.  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Plain text",
папка:"apps",
allowAnonymous:false,
replace:true
})
```

### Скачать из ILLA Drive

#### Структура

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### Описание

Используется для загрузки файлов из ILLA Drive.

`downloadInfo`: массив объектов, включая tinyURL и fileID. Вы можете использовать компонент Выбор файлов диска, чтобы выбрать файлы из ILLA Drive и получить `downloadInfo` через DrivePicker1.value

`asZip`: используется для установки загрузки файлов как Zip.

#### Пример

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### Скачать

#### Структура

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### Описание

Используется для экспорта данных на ваше устройство.

`fileType`: Одно из следующих значений: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). При использовании "Auto" мы попытаемся определить тип файла на основе либо расширения файла, либо данных файла.

`fileName`: имя с расширением.

`data`: данные файла.

#### Пример

```JavaScript
//скачать данные таблицы как CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    data: table2.dataSourceJS
})
```

```JavaScript
//скачать образ
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    data: image1.imageSrc
})
```

### Установить глобальные данные

#### Установка значения глобальных данных

##### Структура

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### Описание

Используется для установки значения gobalData

`key`: Отображаемое Имя глобальных данных как следующая скриншот.

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`value`: значение для задания

##### Пример

```JavaScript
//используйте input5 для получения входного значения пользователя и задайте значение stringState. 
utils.setGlobalDataValue({
key:"stringState", 
value:input5.value
})
```

#### Установить глобальные данные в

##### Структура

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### Описание

Когда глобальные данные являются массивом или объектом, использовать setGlobalDataIn для изменения значения, соответствующего конкретному индексу в массиве, или для изменения значения, соответствующего конкретному ключу в объекте.

`key`: отображаемое Имя globalData.

`path`: индекс значения, которое вы собираетесь обновлять в массиве или ключе объекта. Например, для установки второго значения массива путь равен 1 (индекс). Для установки значения атрибута именованного ключ1, путь - ключ1.

`value`: значение для задания

##### Пример

```JavaScript
//objectState - объект {"key1":"value1", "key2":"value2"}, установить 
utils.setGlobalDataIn({
key:"objectState", 
path:"key2", 
value:input7.value
})
```

## Встроенные библиотеки

| **Библиотека**    | **Документ**                                                          | **Как использовать его в ILLA Builder** | **Пример**                                                   |
| ----------------- | --------------------------------------------------------------------- | --------------------------------------- | ------------------------------------------------------------ |
| Лодэш             | https://lodash.com/docs/4.17.15                                       | `_`                                     | `_.concat(массив, 2, [3], [[4]]);`                           |
| Day.js            | https://day.js.org/                                                   | `dayjs`                                 | `dayjs(new Date())`                                          |
| uuid              | <https://www.npmjs.com/package/uuid>                                  | `uuid`                                  | `uuid.parse()`                                               |
| нумбро            | https://numbrojs.com/                                                 | `numbro`                                | `numbro(1000).format({thousandSeparated: true})`             |
| Papa              | https://www.papaparse.com/docs                                        | `Papa`                                  | `Papa.parse(url, {download: true, // rest of config ... })`  |

## Значение действий, компонентов...

Используйте `displayName.xxx` для использования значения действий, компонентов или других globalData. Обратите внимание, что в Run Script эти переменные могут быть доступны напрямую без использования ссылок `{{`.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark_button:
    asZip:true
})
```
