---
title: Запуск сценарію
description: Натискаючи сценарій запуску через обробник подій, ви можете досягти послідовного виконання операцій і виконувати різні дії на основі різних станів.
---

# Запуск сценарію

Натискаючи сценарій запуску через обробник подій, ви можете досягти послідовного виконання операцій і виконувати різні дії на основі різних станів.

## Інструкції

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### Демо

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Біг і форк

https://illa.ai/app/ILAfx4p1C7Ac/detail

### Використовувати кейс: логін і перенаправлення на різні сторінки

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Біг і форк

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### Дія при переході

#### Структура

```JavaScript
const exampleData = await actionName.trigger();
```

Дія - це рядок, що відображається на скріншоті, як наслідок.

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### Опис

У файлі Run Script, змінна `exampleData` така сама як `actionName.data`.

#### Приклад

Наприклад, ми використовуємо дію `postgresql1` для листа Джеймсів.

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

Запустити дію за допомогою Запустити скрипт

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data` є

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

Коли нам потрібно використовувати JavaScript для отримання електронної пошти в відділенні компонента або деінде, ми можемо використовувати наступне: `{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

І коли нам потрібно використовувати повідомлення у "Run Script" після виконання команди `const exampleData = await postgresql1. rigger();`, ми можемо напряму використовувати `exampleData[0].email`.

Показувати повідомлення про успіх, коли запит успішний, а результат є унікальним. Показувати повідомлення про помилку, якщо результат запиту не є унікальним або якщо він не працює.

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = await postgresql1.trigger();
//показати повідомлення по повідомленню, коли довжина цього масиву дорівнює 1.
if(exampleData.length==1){
utils. howNotification(
  {
    type:"info",
    title:"Успішно отримано",
    опис:exampleData[0]. mail,
    тривалість: 4500}
);
  }else{
  /else, показати невдалі повідомлення
завантаження. howNotification(
  {
    тип:"info",
    title:"Не вдалося отримати",
    тривалість: 4500
  }
);
};
```

### Показувати сповіщення

#### Структура

```JavaScript
utils.showNotification(
{
type: "info",
title: "Congratulations",
description: "Retrieved successfully",
duration: 4500
}
)
```

#### Опис

| Параметр      | Опис                                                                  | Тип даних                                                                        | Приклад                                   |
| ------------- | --------------------------------------------------------------------- | -------------------------------------------------------------------------------- | ----------------------------------------- |
| тип           | Використовується для встановлення типу іконки в сповіщенні.           | String, одне з наступних значень:"info"default\`"success""error""waring"         | тип: "інформація"                         |
| назва         | Використовується для встановлення назви сповіщення                    | Рядок                                                                            | title: "Вітання"                          |
| опис          | Використовується для встановлення опису                               | Рядок                                                                            | опис: "Вдало отримано"                    |
| тривалість    | Використовується для встановлення тривалості відображення сповіщення. | Номер, у мілісекундах (мс)                                                       | тривалість: 4500                          |

#### Приклад

Показувати сповіщення при натисканні кнопки:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

Це те ж саме, що і дія Показати сповіщення, як показано на знімку:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### Керування компонентами

#### Структура

```JavaScript
componentDisplayName.function()
```

componentDisplayName - це рядок, що відображається на скріншоті, наступним чином.

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### Опис

##### setValue(параметр)

Використовується для встановлення значення. Параметр може бути `string`або `number` або `object` або `boolean` або `array`, який залежить від типу компонента.

###### Підтримувані компоненти

| Компонент                                                                                                                                                         | Тип параметра                                                     | Приклад                                                                                                                                                                                     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Введення тексту, тексту, текстову зону, розділювач, селект, Радіогрупа, Радіо Buttonm, Радіо Buttonm, Дата, час, час, події, Text, Bar, Progress, Circle Progress | `рядок`                                                           | `input1.setValue("Привіт світ")`                                                                                                                                                            |
| JSON Editor                                                                                                                                                       | `рядок`                                                           | jsonEditor1.setValue(`{ "firstName": "Чак", "lastName": "Norris", "age": 80, "біо": "тупи" різання активів з 1940", "пароль": "немає", "телефон": "1-800-KICASS" }`)                        |
| Хронологія                                                                                                                                                        | `string`, розділені значення різних вузлів через кому (,)         | `timeline1.setValue("Перша миля", друга етап ")`                                                                                                                                            |
| Номер вводу, Слайдер, рейтинг                                                                                                                                     | `число`                                                           | `numberInput1.setValue(1000)`                                                                                                                                                               |
| Перемкнути                                                                                                                                                        | `boolean`                                                         | `switch1.setValue(false)`                                                                                                                                                                   |
| Форма схеми JSON                                                                                                                                                  | `об'єкт`                                                          | `jsonSchemaForm1.setValue({ "firstName": "Чак", "lastName": "Норвезька", "age": 80, "біо": "Звуковий будинок вражає з 1940", "пароль": "Ніколи", "телефон": "1-800-KICKASS" })`             |
| Група відмітки, каскадер                                                                                                                                          | `array`                                                           | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                     |

##### clearValue()

Використовується для очищення значення

###### Підтримувані компоненти

Введення номера, введення номера, запис тексту, текстове поле, завантаження, JSON Editor, JSON Schema Form, Switch, Select, Multiselect, контрольна група, Каскадер, Радіо група, Радіо кнопка, Дати, Дата діапазону, час Часу, Час даних, Текст, Текст, Оцінка, Прогрес, Колонний Прогрес, Таймелін, Вододавець

###### Приклад

```JavaScript
input1.clearValue()
```

##### фокус()

Використовується для фокусування на компоненті

###### Підтримувані компоненти

Введення, номер коду, опис тексту, текстове поле, JSON Editor, Rich text editor, Radio Group,

###### Приклад

```JavaScript
input1.focus()
```

##### validate()

Коли ви встановили умови перевірки для компонента, таких як формат електронної пошти, URL формат, або обов'язкове поле, ви можете використовувати функцію "validate()", щоб визначити, чи вона відповідає вимогам. Якщо вона не відповідає вимогам, буде показано повідомлення перевірки.

Встановити умови перевірки:

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

Показати повідомлення перевірки:

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### Підтримувані компоненти

Введення номера, введення номера, рядок редагування, текстового опису, завантаження, вибірка, Multiselect, Група прапорців, Радіо Кнопки, Дата, Дата і час, Форм, Оцінка

###### Приклад

```JavaScript
input1.validate()
```

##### clearValidation()

Використовується для очищення повідомлення підтвердження.

###### Підтримувані компоненти

Введення номера, введення номера, запис про редагування, текстове поле, Upload, Select, Multiselect, Група прапорців, Радіо Кнопки, Дата, Дата і час, Час, Оцінка

###### Приклад

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(масив)

Використовується для встановлення обраного значення Multiselect. Параметр має бути масивом.

###### Підтримувані компоненти

Множинний вибір

###### Приклад

```JavaScript
multiselect1.setSelectedValue(["Опція 1", "Опція 3"])
```

##### сабміт()

Надіслати дані форми. Коли запущено метод надсилання, ми спочатку підтвердимо дані форми. Якщо є помилки перевірки, буде запобіжено подання форми, і будуть відображатися відповідні повідомлення про помилку. Тільки після успішної перевірки продовжиться сабміт.

###### Підтримувані компоненти

Форма схеми JSON

###### Приклад

```JavaScript
form1.submit()
```

##### toggle()

Використовується для перемикання значення з true в false або з false на true.

###### Підтримувані компоненти

Перемкнути

###### Приклад

```JavaScript
перемикач ch1.toggle()
```

##### setStartOfRange(number)

Використовується для встановлення початкового значення повзунка діапазону

###### Підтримувані компоненти

Range Slider

###### Приклад

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### setEndOfRange(число)

Використовується для встановлення кінцевого значення повзунка за замовчуванням

###### Підтримувані компоненти

Range Slider

###### Приклад

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### setStartValue(рядок)

Використовується для встановлення початкового значення за замовчуванням

###### Підтримувані компоненти

Діапазон дат

###### Приклад

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### setEndValue(рядок)

Використовується для встановлення стандартного кінцевого значення

###### Підтримувані компоненти

Діапазон дат

###### Приклад

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(масив)

Використовується для встановлення вимикачів, значення якого є істинним

###### Підтримувані компоненти

Змінити групу

###### Приклад

```JavaScript
switchGroup1.setValueInArray(["Опція 1", "Опція 3"])
```

##### selectPage(число)

Використовується для встановлення індексу сторінки для відображення. Індекс - це номер, що починається з 0.

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.selectPage(1)
```

##### selectRow(число)

Використовується для встановлення індексу вибраного рядка. Індекс - це номер, що починається з 0.

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.selectRow(1)
```

##### clearSelection()

Використовується для очищення вибраного рядка.

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.clearSelection()
```

##### setFilters(масив об'єктів, рядок)

Використовується для встановлення фільтрів.

**Перший параметр** - це масив об'єктів. Кожен об'єкт представляє умову фільтрування. Він включає три атрибути:

**`id`** : Це належить ідентифікатору цього стовпця. Якщо цей стовпець є результатом запиту бази даних, то ID буде ім'я стовпця, який ви отримали з запиту. Наприклад, якщо запит `SELECT по електронній пошті 'S user_email користувача FROM` і перейменуйте `email` як `Email` за допомогою правої панелі таблиці, ідентифікатор стовпця все ще буде `user_email` Якщо ця колонка вручну додається використовуючи кнопку "Додати стовпець" у правій панелі, ви можете перевірити його id у розділі «displayedData» лівої панелі. Зазвичай це буде випадково згенерований рядок, починаючи з `колона` наприклад `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : тип відповідності фільтру. Ми підтримуємо наступні типи: `equalTo', що є таким самим як `=`у SQL,`notEqualTo`, який є таким самим, як `<>`у SQL,`contains`, що дорівнює `LIKE '%value%'`у SQL,`does NotContain', який є таким же, як `NOT LIKE '%value%'` у SQL, `lessThan`, який такий самий як `<` в SQL, `notLessThan`, який є таким самим як `>=` у SQL, `notMoreThan`, який є таким самим, як `<=` у SQL, `empty', що такий самий як `IS NULL`у SQL,`notEmpty`який є такою ж, як`IS НЕ NULL`у SQL,`before`використовується для порівняння часу чи дати, що те ж саме, що`>`у SQL,`after`використовується для порівняння часу чи дати, що те ж саме, що`\<\` у SQL.

**`значення`** : використовується для порівняння значень.

**Другий параметр:**, коли є кілька об'єктів із умовою фільтрації, він визначає, чи мають вони відношення "AND" або "OR". Встановіть його як рядок `and` для "AND" відносин, і "або" для "OR" відносин.

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"May"}, {"id":"month", "filterFn":"equalTo", "value":"June"}], "або")
```

##### clearFilters()

Використовується для очищення всіх фільтрів

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.clearFilters()
```

##### setSort(string, string)

Використовується для встановлення сортування. **Перший параметр** - це ідентифікатор стовпця, який потрібно сортувати, який є рядком. Ідентифікатор так само, як вказаний в setFilters(масив об'єктів, string). **Другий параметр** - це порядок сортування або за зростанням або спаданням. Це встановлено з використанням рядкового значення `ascend` або `descend`.

###### Підтримувані компоненти

Стіл

###### Приклад

```JavaScript
table1.setSort("incomes", "descend")
```

##### setCurrentViewKey(рядок)

Використовуйте ключ, який є рядковим значенням вікна, щоб встановити показане відображення.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
container1.setCurrentViewKey("View 2")
```

##### setCurrentViewIndex(число)

Використовуйте індекс, який є числовим значенням, що починається від 0 представлення, щоб встановити представлення.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
container1.setCurrentViewIndex(1)
```

##### showNextView(boolean)

Використовується для показу наступного вигляду. Параметр є логічним значенням, яке визначає, чи потрібно цикл з кінця назад до початку.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
container1.showNextView(true)
```

##### showNextVisibleView(boolean)

Використовується для показу наступного видимого відображення. На відміну від поведінки функції `showNextView(boolean)`, ця функція пропонує покращити вигляд комутатора шляхом пропущення будь-яких прихованих переглядів під час переходу. Параметр є логічним значенням, яке визначає, чи потрібно цикл з кінця назад до початку.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
container1.showNextVisibleView(false)
```

##### showPreviousView()

Використовується для відображення попереднього вигляду. Параметр є логічним значенням, яке визначає, чи потрібно цикл з початку до кінця.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
контейнер1.showPreviousView(true)
```

##### showPreviousVisibleView()

Використовується для відображення попереднього видимого відображення. На відміну від поведінки функції `showPreviousView(boolean)`, ця функція пропонує поліпшити функціональність перемикача, пропустивши будь-які приховані подання під час переходу. Параметр є логічним значенням, яке визначає, чи потрібно цикл з початку до кінця.

###### Підтримувані компоненти

Контейнер

###### Приклад

```JavaScript
контейнер1.showPreviousVisibleView(true)
```

##### reset()

Використовується для скидання значення за замовчуванням.

###### Підтримувані компоненти

Форма

###### Приклад

```JavaScript
form1.reset()
```

##### resetValue()

Використовується для скидання значення за замовчуванням.

###### Підтримувані компоненти

Кроки

###### Приклад

```JavaScript
steps1.resetValue()
```

##### openModal()

Використана, щоб відкрити модальне

###### Підтримувані компоненти

Модал

###### Приклад

```JavaScript
modal1.openModal()
```

##### closeModal()

Використовується для закриття модального засобу

###### Підтримувані компоненти

Модал

###### Приклад

```JavaScript
modal1.closeModal()
```

##### setImageUrl(рядок)

Використовується для встановлення посилання на джерело зображення. Це може бути Base64 або URL-адреса, що вказує на зображення в Інтернеті.

###### Підтримувані компоненти

Зображення

###### Приклад

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl("data:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage()

Використовується для очищення повідомлення цитованої відповіді над вхідною коробкою.

###### Підтримувані компоненти

Чат

###### Приклад

```JavaScript
chat1.clearReplyMessage()
```

##### setPrimaryValue(число)

Використовується для встановлення первинного значення статистики.

###### Підтримувані компоненти

Статистика

###### Приклад

```JavaScript
statistic1.setPrimaryValue(100)
```

##### змінити Первинне Значення()

Використовується для скидання первинного значення до стандартного значення статистики.

###### Підтримувані компоненти

Статистика

###### Приклад

```JavaScript
статистика1.resetPrimaryValue()
```

##### setFileUrl(рядок)

Використовується для встановлення URL файлу. Це може бути Base64 або URL-адреса, що вказує на PDF у мережі.

###### Підтримувані компоненти

Файл pdf

###### Приклад

```JavaScript
pdf1.setFileUrl("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No.GD-Ed-22_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### грати()

Використовується для відтворення відео чи звуку.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.play()
```

##### пауза()

Використовується для паузи відео або аудіо.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.pause()
```

##### showControls(boolean)

Використовується для визначення, чи показувати елементи керування.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.showControls(true)
```

##### setVideoUrl(рядок)

Використовується для встановлення URL відео. Це може бути посилання на Base64 або відео на медіа-веб-сайтах.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(число)

Використано для встановлення об'єму. Значення параметру - число від 0 до 1.

###### Підтримувані компоненти

Відео

###### Приклад

`video1.setVolume(0.5)`

##### setSpeed(число)

Використовується для встановлення швидкості. Число між 0,25 і 2.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.setSpeed(0.5)
```

##### setLoop(boolean)

Використовується для встановлення, чи цикл відтворення.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
video1.setLoop(false)
```

##### перемотування(число)

Використовується для пошуку до визначеного часового закаду. Параметр - це число, яке вимірюється в секундах (ів). Наприклад, щоб шукати позицію часу 5:35, ви б використали значення 335.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.seekTo(335)
```

##### mute(boolean)

Використовуються для встановлення звуку чи ні.

###### Підтримувані компоненти

Відео

###### Приклад

```JavaScript
відео1.mute(true)
```

##### setAudioUrl(рядок)

Використовується для встановлення URL аудіозапису. Це може бути посилання на Base64 або відео на медіа-веб-сайтах.

###### Підтримувані компоненти

Аудіо

###### Приклад

```JavaScript
video1.setAudioUrl("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### slickNext()

Використовується для перемикання на наступне зображення.

###### Підтримувані компоненти

Carousel

###### Приклад

```JavaScript
carousel1.slickNext()
```

##### slickPrevious()

Використовується для переходу на попереднє зображення.

###### Підтримувані компоненти

Carousel

###### Приклад

```JavaScript
каруселя1.slickPrevious()
```

##### setSrc()

Використовується для встановлення вихідного URL IFrame.

###### Підтримувані компоненти

IFrame

###### Приклад

```JavaScript
iframe1.setSrc("https://www.nasa.gov/")
```

##### setMarkers(масив)

Використовується для встановлення маркерів на карті. Параметр повинен бути масивом об'єктів. Поля широти та довготи для кожного об'єкта повинні бути такими ж, як і поля, встановлені в правій панелі

###### Підтримувані компоненти

Карта

###### Приклад

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.60657894011
 },{
     "lat":55.404325137137139,
     "lng":-112.9825379578
 },{
     "lat":57.841288488855855,
     "lng":103.356594078940

])
```

##### resetMarkers()

Використовується для скидання маркерів до маркерів за замовчуванням.

###### Підтримувані компоненти

Карта

###### Приклад

```JavaScript
map1.resetMarkers()
```

### Перейти за URL-адресою

#### Структура

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### Опис

Використайте об’єкт, щоб встановити його. В об’єкті 2 атрибути. Перший атрибут - "url". Це значення є повним URL, включаючи 'https://' або 'http://', і це рядок типу. Другий атрибут - `newTab`. Це логічний вираз, який використовується, щоб відкрити URL-адресу в новій вкладці.

#### Приклад

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### Скопіювати до буферу обміну

#### Структура

```JavaScript
utils.copyToClipboard(стрічка)
```

#### Опис

Використовується для копіювання рядка

#### Приклад

```JavaScript
utils.copyToClipboard("Текст для копіювання")
```

### Встановити маршрутизатор

#### Структура

```JavaScript
utils.setRouter({
pagePath:str;
viewPath:string
})
```

#### Опис

Використовується для зміни сторінки в програмах ILLA. В об’єкті 2 атрибути.

Перший атрибут - `pagePath`. Значення pagePath відображається на наступному скріншоті без `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

Другий атрибут - "viewPath". Значення змінної viewPath відображається на наступному скріншоті без `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### Приклад

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"підpage1"
})
```

### Зберегти на диск

#### Структура

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonymous:boolean,
replace:boolean
})
```

#### Опис

Використовується для збереження файлу в ILLA Диску.

`fileName`: Назва з розширенням файлу після завантаження на ILLA Диск.

`fileData`: Base64 або необроблені дані файлів, такі як JSON, CSV, звичайний текст тощо.

`fileType`: одне з наступних значень: Auto, текстовий текст, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). При використанні функції "Авто" ми спробуємо визначити тип файлів на основі розширення файлу або даних про файл.

`тека`: Тека призначення для завантаження файлу. Залиште порожнім, щоб завантажити до кореневої теки.

`allowAnonymous`: Використано, щоб встановити, чи дозволено анонімний доступ користувача. Якщо ви плануєте встановити свій застосунок як публічний, має бути увімкнений анонімний доступ. Для безпеки ваших даних, файлів або папок, доступних анонімно, повинні розміщуватися в анонімній теці.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`заміни`: Використовується для установки, коли є файли з таким самим ім'ям в тому ж каталозі, замініть існуючий файл новим файлом або автоматично перейменуйте новий файл.

#### Приклад

```JavaScript
//use upload1 to pick files from device and upload to apps folder. 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1.files[0].dataURI,
fileType:"PNG",
folder:"apps",
allowAnonymous:false,
replace:true
})
```

```JavaScript
//upload текстовий файл.  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Plain text",
folder:"apps",
allowAnonymous:false,
replace:true
})
```

### Завантажити з ILLA-диска

#### Структура

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### Опис

Використовується для завантаження файлів з ILLA Диска.

`downloadInfo`: масив об'єктів, включаючи tinyURL та fileID. Ви можете використовувати палітру файлів компонентів диску для вибору файлів з ILLA Drive і отримати `downloadInfo` через drivePicker1.value

`asZip`: використовується, чи завантажувати файли як Zip.

#### Приклад

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### Звантажити

#### Структура

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### Опис

Використовується для експорту даних на ваш пристрій.

`fileType`: одне з наступних значень: Auto, текстовий текст, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). При використанні функції "Авто" ми спробуємо визначити тип файлів на основі розширення файлу або даних про файл.

`fileName`: ім'я з розширенням.

`data`: дані файлу.

#### Приклад

```JavaScript
//download the data of a CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    data: table2.dataSourceJS

```

```JavaScript
//download image
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    data: image1.imageSrc
})
```

### Встановити глобальні дані

#### Встановити глобальне значення даних

##### Структура

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### Опис

Використовується для встановлення значення gobalData

`key`: displayName of globalData as the following screenshot shows.

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`значення`: значення встановлено

##### Приклад

```JavaScript
//use input5 to get the user input value and set as the value of stringState. 
utils.setGlobalDataValue({
key:"stringState", 
value:input5.value
})
```

#### Встановити глобальні дані

##### Структура

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### Опис

Коли глобальні дані є масивом або об'єктом, використовувати setGlobalDataIn для зміни значення, що відповідає певному індексу в масиві, або для зміни значення, відповідного до конкретного ключа об'єкта.

`key`: displayName of globalData.

`шлях`: індекс значення, яке ви маєте намір оновити в масиві або ключ в об’єкті. Наприклад, щоб задати друге значення у масиві, шлях 1 (індекс). Щоб встановити значення атрибуту з назвою key1, шлях є key1.

`значення`: значення встановлено

##### Приклад

```JavaScript
//objectState - це об’єкт: {"key1":"value1", "key2":"value2"}, щоб встановити 
utils.setGlobalDataIn({
key:"objectState", 
path:"key2", 
value:input7.value
})
```

## Вбудовані бібліотеки

| **Бібліотека**    | **Дока**                                                                | **Як використовувати його в конструкторі ILLA** | **Приклад**                                                     |
| ----------------- | ----------------------------------------------------------------------- | ----------------------------------------------- | --------------------------------------------------------------- |
| Лодаш             | https://lodash.com/docs/4.17.15                                         | `_`                                             | `_.concat(array, 2, [3], [[4]]);`                               |
| Дай.js            | https://day.js.org/                                                     | `dayjs`                                         | `dayjs(нова дата ())`                                           |
| uid               | [https://www.npmjs.com/package/uuid](https://www.npmjs.com/package/uid) | `uid`                                           | `uuid.parse()`                                                  |
| Нумбро            | https://numbrojs.com/                                                   | `Відрах`                                        | `numbro(1000).format({thousandSeparated: true})`                |
| Papa              | https://www.papaparse.com/docs                                          | `Papa`                                          | `Papa.parse(url, {download: true, // решта конфігурації ... })` |

## Значення дій, компонентів...

Використовуйте `displayName.xxx` для використання значення дій, компонентів або інших globalData. Зверніть увагу, що в файлі Run Script, ці змінні можна отримати безпосередній доступ, не використовуючи `{{` посилань.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},/❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:✅
    asip:true
})
```
