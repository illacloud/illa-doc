---
title: Kör skript
description: Genom att utlösa Run Script genom en händelsehanterare, kan du uppnå sekventiell körning av operationer och utföra olika åtgärder baserat på olika villkor.
---

# Instruktioner

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: 100%, height: 100%, colorScheme: "light"}}></iframe></div>

## Demo

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: 100%, height: 100%, colorScheme: "light"}}></iframe></div>

### Kör och gaffel

https://illa.ai/app/ILAfx4p1C7Ac/detalj

## Använd fall: Logga in och omdirigera till olika sidor

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: 100%, height: 100%, colorScheme: "light"}}></iframe></div>

### Kör och gaffel

https://illa.ai/app/ILAex4p1C7Eh/detalj

# ILLA custom functions

## Åtgärd för utlösare

### Struktur

```JavaScript
const exempelData = inväntar åtgärdName.trigger();
```

Åtgärdsnamnet är strängen som visas i skärmbilden, enligt följande.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=NTQzYzllNmQ2NTdmNTM1ZGZjZDU3MTNjMjk3ZTI1ZDVfT2RwQTNkaEZSNHdpSmFOeVlmcVJPN2NaOXZ6N1N1NnBfVG9rZW46TGhSZWJEYW00b05xUDJ4ODVXYnYOTNOc2RoXzE2OTgzMDQ1MTI6MTY5ODMwODExMl9WNA)

### Beskrivning

I Run Script, är variabeln `exempelData` samma som `actionName.data`.

### Exempel

Till exempel använder vi åtgärden `postgresql1` för att fråga James' e-post.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=NzdlOTEyZjBmM2M3MWJlZTMwYTIwZjkzMTQ1OTBhM2VfZEVNeTJRZGE2TFRObkNXTlV0OHdFOE85YzFYaU1JaVfVG9rZW46VU0yWI4RHhWbzQ2SWV4RkhBcXVcGNZc1NXzE2OTgzMDQ1MTI6MTY5ODMYODExl9WNA)

Utlösa åtgärden via Run Script

!\[](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=YTQzOTE3NDI3YzU1MzVhOTY2ZTg4ODBjOWUyZmMxYzlfdW9uYzR5VXhLYVNFMXRlYnpYU2xTTHo3WHJEZUpnaEJfVG9rZW46V1hVdGdyb2FZOGh4R3BUQ3VjNk3c21jXzE2OTgzMDQ1MTI6YMTY5ODMWODMWOMNAM9WNAL9GGGGGGGG2FZOGG2FZOG3BUQ

`postgresql1.data` är

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

När vi måste använda JavaScript för att hämta ett e-postmeddelande i komponentens Inspektion eller någon annanstans kan vi använda följande: `{{postgresql1.data[0].email}}`

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=ZDQyMWExZThhMzU5MGQwZTVlMDI0ZmUwNzk3NGYzZGJfdVdxNVFCS2hSMDY4YUtHWENpeE1LVFlFWmp0cHVtRzlfVG9rZW46RUpjTGJyZTI4b1d4Q0JMN3VTNDN4c3JoXzE2OTgzMDQ1MTI6MTY5ODMwODExM9WNA)

And when we need to use the email in the "Run Script" after executing the statement `const exampleData = await postgresql1.trigger();`, we can directly use `exampleData[0].email`.

Show a success notification when the query is successful and the result is unique. Show a failure notification when the query result is not unique or when it fails.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?kod=YjEyZDk4MjdjZjE5ZTdlZGQ0NzQ4NmI5ZDQ5MDE0ODBfTWhTdkI1VGI3Vk1FdG84WlNqYmtvNzVBVmowRjRYbVZfVG9rZW46VmVwNmJLTkdkb3BmNDR4d3NSUHV3SmJOc2xmXzE2OTgzMDQ1MTI6MTY5ODMYDExMWNAM9NA)

```JSON
const exampleData = await postgresql1.trigger();
//show email via notifikation när längden på den resulterande arrayen är 1.
if(exempelData.length==1){
utils. howNotification(
  {
    typ:"info",
    titel:"Hämtas framgångsrikt",
    beskrivning:exempelData[0]. mail,
    varaktighet: 4500}
);
  }else{
  /else, visa en misslyckad anmälan
utils. howNotification(
  {
    type:"info",
    title:"Misslyckades att hämta",
    varaktighet: 4500
  }
);
};
```

## Visa avisering

### Struktur

```JavaScript
utils.showNotification(
{
typ: "info",
titel: "Grattis",
beskrivning: "Hämtad framgångsrikt",
varaktighet: 4500
}
)
```

### Beskrivning

| Parameter      | Beskrivning                                                       | Datatyp                                                                          | Exempel                                  |
| -------------- | ----------------------------------------------------------------- | -------------------------------------------------------------------------------- | ---------------------------------------- |
| typ            | Används för att ange ikontypen i aviseringen.                     | Sträng, ett av följande värden: "info"`default`"success""error""warning"         | skriv: "info"                            |
| titel          | Används för att ange titeln på meddelandet                        | Sträng                                                                           | title: "Grattis"                         |
| beskrivning    | Används för att ställa in beskrivningen                           | Sträng                                                                           | beskrivning: "Hämtas framgångsrikt"      |
| varaktighet    | Används för att ställa in varaktigheten för aviseringen.          | Nummer, I millisekunder (ms)                                                     | varaktighet: 4500                        |

### Exempel

Visa avisering när du klickar på knappen:

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=NmNlZWMxNzFiMWVjZjZDI0MjgzMzAwNGE2ODQzNjdfRFRFbXhKaTk2a2RIVFh2dnI0ZW5UcHVtZUEwZ3RHa0ZfVG9rZW46THZkYWJnYkFxb01HOHN4QTcycnVyRzBWc0tlXzE2OTgzMDQ1MTI6MTY5ODMYODExMWNAM9NAM9WNA)

Det är samma som Visa avisering, som följande skärmdump visar:

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=NTY2ZmNmMDQ2MjE5ZjM2NTkyNTZlMjZmYjk5YjA4ZTBfdExSYUZqTVVzMUtiZnBjaEVqZFRYSGdIcklLSmtMSXFfVG9rZW46Q21SdWJpb0tib0VpSDl4OG1oQnVuVGZrczdkXzE2OTgzMDQ1MTI6MTY5ODMwODExMl9WNA)

## Kontrollera komponent

### Struktur

```JavaScript
componentDisplayName.function()
```

componentDisplayName är strängen som visas i skärmdumpen, enligt följande.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=ODUwYzM1ZDVlMzFjhhMThjZGZjNzExYmOWI4NjVfdGtlbTRXS3ZNall1aTRzWWJoZGtwVTl2VlRBa3VYW5fVG9rZW46V3o5VWJUajV4b3IzUlp4VWFMbHVpdEJmc3FnXzE2OTgzMDQ1MTI6MTY5ODMwODExM9WNA)

### Beskrivning

#### setValue(parameter)

Used to set the value. The parameter could be a `string` or `number` or `object` or `boolean` or `array` which depends on the component type.

##### Komponenter som stöds

| Komponent                                                                                                                                                       | Typ av parameter                                                     | Exempel                                                                                                                                                                                     |
| --------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Input, redigerbar text, textområde, avdelare, vald, Radio Group, Radio Knapp, Radio Knapp, Datum, Datumtid, Steg, Text, Bar Progress, Circle Progress           | `sträng`                                                             | `input1.setValue("Hej världen")`                                                                                                                                                            |
| JSON Editor                                                                                                                                                     | `sträng`                                                             | `jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse sparkar sedan 1940", "lösenord": "noneed", "telefon": "1-800-KICKASS" }`)`               |
| Tidslinje                                                                                                                                                       | `string`, Separera värdena för olika noder via kommatecken (,)       | `timeline1.setValue("The first milestone,The second milestone")`                                                                                                                            |
| Antal inmatning, matare, pris                                                                                                                                   | `nummer`                                                             | `numberInput1.setValue(1000)`                                                                                                                                                               |
| Växla                                                                                                                                                           | `boolean`                                                            | `switch1.setValue(false)`                                                                                                                                                                   |
| JSON Schema formulär, formulär                                                                                                                                  | `objekt`                                                             | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse sparkar sedan 1940", "lösenord": "noneed", "telefon": "1-800-KICKASS" })`             |
| Kryssruta, Cascader                                                                                                                                             | `array`                                                              | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                     |

#### clearValue()

Används för att rensa värdet

##### Komponenter som stöds

Input, Nummer Input, Redigerbar Text, Text Area, Ladda upp, JSON Editor, JSON Schema Form, Switch, Välja, Multiselect, Kryssningsgrupp Cascader, Radio Group, Radio Knappon, Datum, Datumintervall, Datumtid, Datumtid, Text, Grad, Bar Progress, Cirkel Progress, Tidslinjen, Divider

##### Exempel

```JavaScript
input1.clearValue()
```

#### focus()

Används för att fokusera på komponenten

##### Komponenter som stöds

Inmatning, Nummerinmatning, Redigerbar text, textområde, JSON Editor, Rich text editor, Radio Group,

##### Exempel

```JavaScript
input1.focus()
```

#### validate()

When you have set validation conditions for a component, such as email format, URL format, or required field, you can use the `validate()` function to determine if it meets the requirements. If it does not meet the requirements, a validation message will be displayed.

Ställ in valideringsvillkor:

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=YjIwNTcyN2VjZDZkOTYzNGFlMzM0ZmVhZjJiYmI2MThfMUQ0ME5hZ0dOMEVsWGVEcHVxdm03cTdsVHBvaktOcTZfVG9rZW46QzhzemJoeXhkb1E1a0N4R0dQSnVDeUpZczhiXzE2OTgzMDQ1MTI6MTY5ODMwODExMl9WNA)

Visa valideringsmeddelande:

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=OWQ1NzRmMTkxOGE3NjFjMTYzYTYxNGMzZTE0N2QyY2ZfNEt4Q3ozbU1HRDJOYTVvaHNmYmpUZWRDMTZzdmR0N3lfVG9rZW46SDhFOWJqdWU0b2tpbHd4UFVIVnU5M0hlczliXzE2OTgzMDQ1MTI6MTY5ODMwODExl9WNA)

##### Komponenter som stöds

Input, Nummer input, Redigerbar text, Text Area, Uppladdning, Välja, Multiselect, Kryssruta Grupp, Radio Group, Radio Knappon, Datum, Datumintervall, Datumtid, Form, Betygsätt

##### Exempel

```JavaScript
input1.validate()
```

#### rensning ()

Används för att rensa valideringsmeddelandet.

##### Komponenter som stöds

Input, Nummer input, Redigerbar text, Text Area, Uppladdning, Välja, Multiselect, Kryssruta Grupp, Radio Knappon, Datum, Datumintervall, Datumtid, Betygsätt

##### Exempel

```JavaScript
input1.clearValidation()
```

#### setSelectedValue(array)

Used to set the selected value of Multiselect. The parameter should be an array.

##### Komponenter som stöds

Multival

##### Exempel

```JavaScript
multiselect1.setSelectedValue(["Alternativ 1", "Alternativ 3"])
```

#### skicka ()

Submit form data. When the submit method is triggered, we will first validate the form data. If there are validation errors, the form submission will be prevented, and the corresponding error messages will be displayed. Only after successful validation does the submission proceed.

##### Komponenter som stöds

JSON Schema formulär, formulär

##### Exempel

```JavaScript
form1.submit()
```

#### toggle()

Används för att byta värde från sant till falskt eller från falskt till sant.

##### Komponenter som stöds

Växla

##### Exempel

```JavaScript
switch1.toggle()
```

#### setStartOfRange(number)

Används för att ställa in standardstartvärdet för intervallreglage

##### Komponenter som stöds

Range Slider

##### Exempel

```JavaScript
rangeSlider1.setStartOfRange(1)
```

#### setEndOfRange(nummer)

Används för att ställa in standardvärdet för intervallreglage

##### Komponenter som stöds

Range Slider

##### Exempel

```JavaScript
rangeSlider1.setEndOfRange(9)
```

#### setStartValue(sträng)

Används för att ställa in standardstartvärdet

##### Komponenter som stöds

Datumintervall, tidsintervall

##### Exempel

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

#### setEndValue(sträng)

Används för att ställa in standard slutvärde

##### Komponenter som stöds

Datumintervall, tidsintervall

##### Exempel

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

#### setValueInArray(array)

Används för att ställa in växlar vars värde är sant

##### Komponenter som stöds

Byt grupp

##### Exempel

```JavaScript
switchGroup1.setValueInArray(["Alternativ 1", "Alternativ 3"])
```

#### selectPage(nummer)

Used to set the index of the page to display. The index is a number starting from ０.

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
tabell1.selectPage(1)
```

#### selectRow(nummer)

Used to set the index of selected row. The index is a number starting from ０.

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
tabell1.selectRow(1)
```

#### clearSelection()

Används för att rensa den markerade raden.

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
tabell1.clearSelection()
```

#### setFilters(array av objekt, sträng)

Används för att ställa in filter.

**The first parameter** is an array of objects. Each object represents a filtering condition. It includes three attributes:

**\<1>**  **`id`** : This refers to the id of this column. If this column is a result of a database query, then the id would be the column name you retrieved from the query. For example, if the query is `SELECT email AS user_email FROM users` and rename `email` as `Email` using the right-hand panel of the table, the id of the column would still be `user_email` If this column is manually added using the `Add Column` button in the right-hand panel, you can check its id in the `displayedData` section of the left-hand panel. Typically, it will be a randomly generated string starting with `column` such as `column-320169e8-225a-482d-9853-ad34b3040220`.

**\<2> ** **`filterFn`** : the match type of the filter. We support the following types: `equalTo` which is the same as `=` in SQL, `notEqualTo` which is the same as `<>` in SQL, `contains` which is the same as `LIKE '%value%'` in SQL, `does NotContain` which is the same as `NOT LIKE '%value%'` in SQL, `lessThan` which is the same as `<` in SQL, `notLessThan` which is the same as `>=` in SQL, `notMoreThan` which is the same as `<=` in SQL, `empty` which is the same as `IS NULL` in SQL, `notEmpty` which is the same as `IS NOT NULL` in SQL, `before` is used to compare time or date, which is the same as `>` in SQL, `after` is used to compare time or date, which is the same as `<` in SQL.

**\<3>** **`value`** : används för att ställa in värdet att jämföra.

**The second parameter:** when there are multiple filter condition objects, it determines whether they have an "AND" relationship or an "OR" relationship. Set it as a string `and` for an "AND" relationship, and `or` for an "OR" relationship.

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"May"}, {"id":"month", "filterFn":"equalTo", "value":"June"}], "eller")
```

#### clearFilters()

Används för att rensa alla filter

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
tabell1.clearFilters()
```

#### setSort(string, string)

Used to set the sort. **The first parameter** is the id of the column to sort which is a string value. The id is the same as the id mentioned in setFilters(array of objects, string). **The second parameter** is the sorting order, either ascending or descending. It is set using a string value `ascend` or `descend`.

##### Komponenter som stöds

Tabell

##### Exempel

```JavaScript
tabell1.setSort("inkomster", "nedåt")
```

#### setCurrentViewKey(sträng)

Använd nyckeln som är ett strängvärde för vyn för att ställa in den visade vyn.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.setCurrentViewKey("Visa 2")
```

#### setCurrentViewIndex(nummer)

Använd indexet som är ett talvärde med start från 0 av vyn för att ställa in den visade vyn.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.setCurrentViewIndex(1)
```

#### showNextView(boolean)

Used to show the next view. The parameter is a boolean value that determines whether to loop from the end back to the start.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.showNextView(true)
```

#### showNextVisibleView(boolean)

Used to show the next visible view. Unlike the behavior of the `showNextView(boolean)` function, this function offers improved view switching functionality by skipping any hidden views during the transition. The parameter is a boolean value that determines whether to loop from the end back to the start.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.showNextVisibleView(false)
```

#### showPreviousView()

Used to show the previous view. The parameter is a boolean value that determines whether to loop from the start back to the end.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.showFöregåendeView(sant)
```

#### showPreviousVisibleView()

Used to show the previous visible view. Unlike the behavior of the `showPreviousView(boolean)` function, this function offers improved view switching functionality by skipping any hidden views during the transition. The parameter is a boolean value that determines whether to loop from the start back to the end.

##### Komponenter som stöds

Behållare

##### Exempel

```JavaScript
container1.showFöregåendeVisibleView(true)
```

#### reset()

Används för att återställa värdet till standardvärde.

##### Komponenter som stöds

Formulär

##### Exempel

```JavaScript
form1.reset()
```

#### återställeValue()

Används för att återställa värdet till standardvärde.

##### Komponenter som stöds

Steg

##### Exempel

```JavaScript
steg1.återställeValue()
```

#### openModal()

Används för att öppna en modal

##### Komponenter som stöds

Modal

##### Exempel

```JavaScript
modal1.openModal()
```

#### closeModal()

Används för att stänga en modal

##### Komponenter som stöds

Modal

##### Exempel

```JavaScript
modal1.closeModal()
```

#### setImageUrl(sträng)

Used to set the Image source URL. It can be a Base64 or a URL pointing to an image on the web.

##### Komponenter som stöds

Bild

##### Exempel

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl("data:image/png;base64,iVBORw0KGgoAA...II=")
```

#### clearReplyMessage()

Används för att rensa det citerade svarsmeddelandet ovanför inmatningsrutan.

##### Komponenter som stöds

Chatt

##### Exempel

```JavaScript
chat1.clearReplyMessage()
```

#### setPrimaryValue(nummer)

Används för att ange det primära värdet på statistiken.

##### Komponenter som stöds

Statistik

##### Exempel

```JavaScript
statistik1.setPrimärvärde(100)
```

#### återställePrimaryValue()

Används för att återställa det primära värdet till standardvärdet för statistiken.

##### Komponenter som stöds

Statistik

##### Exempel

```JavaScript
statistik1.återställePrimaryValue()
```

#### setFileUrl(sträng)

Used to set the file URL. It can be a Base64 or a URL pointing to a PDF on the web.

##### Komponenter som stöds

PDF

##### Exempel

```JavaScript
pdf1.setFileUrl("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

#### play()

Används för att spela upp video eller ljud.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.play()
```

#### pause()

Används för att pausa video eller ljud.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.pause()
```

#### showControls(booleskt)

Används för att ställa in om du vill visa kontrollerna.

##### Komponenter som stöds

Video

##### Exempel

```JavaScript
video1.showControls(sant)
```

#### setVideoUrl(sträng)

Used to set the video's URL. It can be a Base64 or a video URL on media websites.

##### Komponenter som stöds

Video

##### Exempel

```JavaScript
video1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

#### setVolume(nummer)

Used to set the volume. The parameter is a number value between 0 to 1.

##### Komponenter som stöds

Video, Ljud

##### Exempel

`video1.setVolume(0.5)`

#### setSpeed(nummer)

Used to set the speed. The parameter is a number value between 0.25 to 2.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.setHastighet(0.5)
```

#### setLoop(booleskt)

Används för att ställa in om uppspelningen ska loopas.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.setLoop(false)
```

#### sökning(nummer)

Used to seek to a specific time position. The parameter is a number value, measured in seconds (s). For example, to seek to the time position 5:35, you would use the value 335.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.seekTo(335)
```

#### mute(boolean)

Används för att ställa in tystning eller inte.

##### Komponenter som stöds

Video, Ljud

##### Exempel

```JavaScript
video1.tyst(sant)
```

#### setAudioUrl(sträng)

Used to set the audio's URL. It can be a Base64 or a video URL on media websites.

##### Komponenter som stöds

Ljud

##### Exempel

```JavaScript
video1.setAudioUrl ("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

#### slickNext()

Används för att byta till nästa bild.

##### Komponenter som stöds

Carousel

##### Exempel

```JavaScript
carousel1.slickNext()
```

#### slickPrevious()

Används för att byta till föregående bild.

##### Komponenter som stöds

Carousel

##### Exempel

```JavaScript
karusell1.slickPrevious()
```

#### setSrc()

Används för att ange käll-URL för IFrame.

##### Komponenter som stöds

IFrame

##### Exempel

```JavaScript
iframe1.setSrc("https://www.nasa.gov/")
```

#### setMarkers(array)

Used to set the markers on the map. The parameter should be an array of objects. The latitude and longitude fields in each object should be same as the fields set in the right-hand panel

##### Komponenter som stöds

Karta

##### Exempel

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
])
```

#### resetMarkers()

Används för att återställa markörerna till standardmarkörerna.

##### Komponenter som stöds

Karta

##### Exempel

```JavaScript
map1.resetMarkers()
```

## Gå till URL

### Struktur

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

### Beskrivning

Use an object to set it. There are 2 attributes in the object. The first attribute is `url`. Its value is a complete URL, including 'https://' or 'http://', and it is of type string. The second attribute is `newTab`. It is a boolean used to set whether to open the URL in a new tab.

### Exempel

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

## Kopiera till urklipp

### Struktur

```JavaScript
utils.copytoUrklipp (sträng)
```

### Beskrivning

Används för att kopiera en sträng

### Exempel

```JavaScript
utils.copyToUrklipp ("texten att kopiera")
```

## Ange router

### Struktur

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

### Beskrivning

Used to change the page in ILLA Apps. There are 2 attributes in the object.

The first attribute is `pagePath`. The value of pagePath is shown on the following screenshot without `/`.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=ZTkwODAzZmEzYmNlMDhlZDlmYjYzMDA4NjFlYWIyMGJfWHE5WUtsWkplZnF1d05FaVuUW5IcnN6cVRtbkNWcjdfVG9rZW46RjZUamI1a084b0djVW54NWE2UnVZZndTc21mXzE2OTgzMDQ1MTI6MTY5ODMwODExM9WNA)

The second attribute is `viewPath`. The value of viewPath is shown on the following screenshot without `/`.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?kod=MzljM2ZkMDExYmE1NmRmNTQwNDZjNmU2Nm4YmQ1NzBfRTdCUFd2T3MwOXFOVGpHNkxsUHZwdzFib29yMmJtVXpfVG9rZW46Vjl4d2JxdDB6b1lIazh4eElVOXUzMTRrc1JnXzE2OTgzMDQ1MTI6MTY5ODMYOWOWNAM9NA)

### Exempel

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"sub-page1"
})
```

## Spara till ILLA Drive

### Struktur

```JavaScript
utils.saveToILLADrive({
filnamn:string,
fileData:string,
filtyp:string,
mapp:string,
tillåteAnonym:boolean,
ersätte:boolean
})
```

### Beskrivning

Används för att spara en fil till ILLA Drive.

`fileName`: Namn med tillägg av filen efter uppladdning till ILLA Drive.

`fileData`: Base64 eller rå fildata, som JSON, CSV, oformaterad text, etc.

`fileType`: One of the following values: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). When using "Auto," we will attempt to determine the file type based on either the file extension or the file data.

`folder`: Destination folder for file upload. Leave it blank to upload to the root folder.

`allowAnonymous`: Used to set whether anonymous user access is allowed. If you plan to set your application as public, anonymous access must be enabled. For the security of your data, files or folders accessible anonymously must be placed in the anonymous folder.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?code=Y2U5MzRmOGMxYWE4YzI2MjQxMjZhOWQ3ODFjNDNkMjlfTDJkSzg0QktPUmlQa3VZcDUxYXBsZVZmVHVhazlXS1ZfVG9rZW46SnIyQ2JuaGpsb0s0dGJ4Z1libnVkSjZLc0lmXzE2OTgzMDQ1MTI6MTY5ODMYODExMWNAM9NA)

`ersätta`: Används för att ange när det finns filer med samma namn i samma katalog, ersätt den befintliga filen med ny fil eller byt automatiskt namn på den nya filen.

### Exempel

```JavaScript
//use upload1 to pick files from device and upload to apps folder. 
utils.saveToILLADrive({
filnamn:upload1.files[0].name,
filData:upload1. iles[0].dataURI,
filtyp:"PNG",
mapp:"appar",
tillåteAnonym:false,
ersätte:true
})
```

```JavaScript
//upload a text file.  
utils.saveToILLADrive({
filnamn:"test.txt",
fileData:"abc",
filtyp:"Plain text",
mapp:"apps",
tillåteAnonym:false,
ersätt:true
})
```

## Ladda ner från ILLA Drive

### Struktur

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

### Beskrivning

Används för att ladda ner filer från ILLA Drive.

`downloadInfo`: an array of objects including tinyURL and fileID. You can use the component Drive file picker to pick files from ILLA Drive and get the `downloadInfo` via drivePicker1.value

`asZip`: används för att ställa in om du vill ladda ner filerna som en Zip.

### Exempel

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

## Hämta

### Struktur

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

### Beskrivning

Används för att exportera data till din enhet.

`fileType`: One of the following values: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). When using "Auto," we will attempt to determine the file type based on either the file extension or the file data.

`fileName`: ett namn med tillägg.

`data`: data för filen.

### Exempel

```JavaScript
//download the data of table as a CSV
utils.downloadFile({
    filtyp:"CSV",
    filnamn:"text.csv",
    data: table2.dataSourceJS
})
```

```JavaScript
//download image
utils.downloadFile({
    filtyp:"PNG",
    filnamn:"text.png",
    data: image1.imageSrc
})
```

## Ange global data

### Ange globalt datavärde

#### Struktur

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

#### Beskrivning

Används för att ställa in värdet på gobalData

`key`: Visningsnamnet för globalData som följande skärmdump visar.

![](https://illasoft.larksuite.com/space/api/box/stream/download/asynccode/?kod=NGE2OTMxZGFlYjE1ZmYwMGZlOWQ3MWE2ZDFiNTQ3ZmFfMDRUUWxYN3JxNndSZXdFdzI2blFZeDNUVFozRnRCYnVfVG9rZW46TUc0YmJc28wbzhXdDl4aEJ4YnVRVFBCc21jXzE2OTgzMDQ1MTI6MTY5ODMODExl9NA)

`value`: värdet som ska anges

#### Exempel

```JavaScript
//use input5 to get the user input value and set as the value of stringState. 
utils.setGlobalDataValue({
key:"stringState", 
value:input5.value
})
```

### Ange global data i

#### Struktur

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

#### Beskrivning

När den globala datan är en array eller objekt, använd setGlobalDataIn för att ändra värdet som motsvarar ett specifikt index i en array eller för att ändra värdet som motsvarar en specifik nyckel i ett objekt.

`key`: Visningsnamnet för globalData.

`path`:  the index of the value you intend to update in the array or the key in the object. For example, to set the second value in array, the path is 1 (the index). To set the value of the attribute named key1, the path is key1.

`value`: värdet som ska anges

#### Exempel

```JavaScript
//objectState är ett objekt: {"key1":"value1", "key2":"value2"}, att sätta 
utils.setGlobalDataIn({
key:"objectState", 
sökväg:"key2", 
värde:input7.value
})
```

# Inbyggda bibliotek

| **Bibliotek**     | **Doc**                                                               | **Hur man använder det i ILLA Builder** | **Exempel**                                                  |
| ----------------- | --------------------------------------------------------------------- | --------------------------------------- | ------------------------------------------------------------ |
| Lodash            | https://lodash.com/docs/4.17.15                                       | `_`                                     | `_.concat(array, 2, [3], [[4]]);`                            |
| Dag.js            | https://day.js.org/                                                   | `dayjs`                                 | `dayjs(nytt datum()`                                         |
| uuid              | <https://www.npmjs.com/package/uuid>                                  | `uuid`                                  | `uuid.parse()`                                               |
| numbro            | https://numbrojs.com/                                                 | `numbro`                                | `numbro(1000).format({thousandSeparated: true})`             |
| Papa              | https://www.papaparse.com/docs                                        | `Papa`                                  | `Papa.parse(url, {download: true, // rest of config ... })`  |

# Värdet av handlingar, komponenter...

Use `displayName.xxx` to use the value of actions, components, or other globalData. Please note that in the Run Script, these variables can be directly accessed without using {{ references.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark<unk>
    asZip:true
})
```
