---
slug: /
title: スクリプトの実行
description: イベントハンドラを介して実行スクリプトをトリガーすることで、オペレーションの連続実行を実現し、異なる条件に基づいてさまざまなアクションを実行できます。
---

# スクリプトの実行

イベントハンドラを介して実行スクリプトをトリガーすることで、オペレーションの連続実行を実現し、異なる条件に基づいてさまざまなアクションを実行できます。

## How-to

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### デモ

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### 実行とフォーク

https://illa.ai/app/ILAfx4p1C7Ac/detail

### ユースケース：ログインして別のページにリダイレクト

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### 実行とフォーク

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### トリガーアクション

#### 構成

```JavaScript
const exampleData = await actionName.trigger();
```

actionName は、スクリーンショットに表示される文字列です。

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### 説明

Run Scriptでは、変数`exampleData`は`actionName.data`と同じです。

#### 例

例えば、アクション`postgresql1`を使用してJamesのメールを問い合わせます。

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

実行スクリプトを介してアクションをトリガーします

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data` は

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

コンポーネントの検査または他の場所で電子メールを取得するためにJavaScriptを使用する必要がある場合は、以下を使用できます。`{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

そして、`const exampleData = await postgresql1 という文を実行した後に "Run Script" で電子メールを使用する必要がある場合。 rigger();`、`exampleData[0].email` を直接使用できます。

Show a success notification when the query is successful and the result is unique. クエリが成功し、結果が一意のときに成功の通知を表示します。 クエリの結果が一意でない場合や失敗したときに失敗通知を表示します。 クエリが成功し、結果が一意のときに成功の通知を表示します。 クエリの結果が一意でない場合や失敗したときに失敗通知を表示します。 クエリの結果が一意でない場合や失敗したときに失敗通知を表示します。

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = await postgresql1.trigger();
//show email via notification when the length of the resulting array is 1.
if(exampleData.length==1){
utils.showNotification(
  {
    type:"info",
    title:"Retrieved successfully",
    description:exampleData[0].email,
    duration: 4500}
);
  }else{
  //else, show a failed notification
utils.showNotification(
  {
    type:"info",
    title:"Failed to retrieve",
    duration: 4500
  }
);
  };
```

### 通知を表示

#### 構成

```JavaScript
utils.showNotification(
{
type: "info",
title: "おめでとう",
description: "Retrieved successfully",
duration: 4500
}
)
```

#### 説明

| パラメータ      | 説明                                           | データの種類                                                                        | 例                                   |
| ---------- | -------------------------------------------- | ----------------------------------------------------------------------------- | ----------------------------------- |
| タイプ        | 通知のアイコンの種類を設定するために使用します。                     | 文字列, 次のいずれかの値:"info"`default`"success""errorchar@@1warning"                   | タイプ: "info"                         |
| タイトル       | 通知のタイトルを設定するために使用                            | 文字列                                                                           | title: "おめでとうございます"                 |
| 説明         | 説明を設定するために使用                                 | 文字列                                                                           | description: "取得に成功しました"            |
| 期間         | 通知の表示時間を設定するために使用します。                        | 数値, ミリ秒単位(ミリ秒単位)                                                              | 期間:4500                             |

#### 例

ボタンをクリックしたときに通知を表示:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

以下のスクリーンショットが示すように、通知を表示するアクションと同じです:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### コンポーネントの制御

#### 構成

```JavaScript
componentDisplayName.function()
```

componentDisplayName は以下のようにスクリーンショットに表示される文字列です。

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### 説明

##### setValue (parameter)

Used to set the value. 値の設定に使用します。 値の設定に使用します。 値の設定に使用します。 パラメータは、コンポーネントの種類に依存する `string` または `number` または `object` または `boolean` または `array` です。

###### サポートされるコンポーネント

| コンポーネント                                                                                                                                                 | パラメータの種類                                                       | 例                                                                                                                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 入力、編集可能なテキスト、テキストエリア、ディバイダー、選択、ラジオグループ、ラジオボタン、日付、日付、時間、ステップ、テキスト、バーの進行状況、円の進行状況                                                                         | `string`                                                       | `input1.setValue("Hello world")`                                                                                                                                                        |
| JSON Editor                                                                                                                                             | `string`                                                       | jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" }`)     |
| タイムライン                                                                                                                                                  | `string`, カンマ(,)で異なるノードの値を区切ってください                             | `timeline1.setValue("最初のマイルストーン,2番目のマイルストーン")`                                                                                                                                          |
| 数値入力、スライダー、レート                                                                                                                                          | `number`                                                       | `numberInput1.setValue(1000)`                                                                                                                                                           |
| 切り替え                                                                                                                                                    | `boolean`                                                      | `switch1.setValue(false)`                                                                                                                                                               |
| JSON スキーマフォーム、フォーム                                                                                                                                      | `object`                                                       | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telephone": "1-800-KICKASS" })` |
| チェックボックスグループ、Cascader                                                                                                                                   | `array`                                                        | `casader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                  |

##### clearValue()

値をクリアするために使用

###### サポートされるコンポーネント

入力, 数値入力, 編集可能なテキスト, テキスト領域, アップロード, JSON エディタ, JSON スキーマフォーム, スイッチ, 選択, マルチ選択, チェックボックスグループ Cascader, Radio Group, Radio Button, Date, Date Range, Data Time, Text Time, Text, Rate, Bar Progress, Circle Progress, Timeline, Divider

###### 例

```JavaScript
input1.clearValue()
```

##### focus()

コンポーネントにフォーカスするために使用されます。

###### サポートされるコンポーネント

入力、番号入力、編集可能なテキスト、テキストエリア、JSONエディタ、リッチテキストエディタ、ラジオグループ。

###### 例

```JavaScript
input1.focus()
```

##### validate()

電子メール形式、URL形式などのコンポーネントの検証条件を設定した場合 または必須フィールドでは、`validate()`関数を使用して、要件を満たしているかどうかを判断できます。 要件を満たしていない場合、検証メッセージが表示されます。 要件を満たしていない場合、検証メッセージが表示されます。 要件を満たしていない場合、検証メッセージが表示されます。 If it does not meet the requirements, a validation message will be displayed. If it does not meet the requirements, a validation message will be displayed.

検証条件を設定:

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

検証メッセージを表示:

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### サポートされるコンポーネント

入力, 番号入力, 編集可能なテキスト, テキスト領域, アップロード, 選択, マルチ選択, チェックボックスグループ, ラジオボタン, 日付, 日付範囲, 日付時刻, フォーム, レート

###### 例

```JavaScript
input1.validate()
```

##### clearValidation()

検証メッセージをクリアするために使用されます。

###### サポートされるコンポーネント

入力、番号入力、編集可能なテキスト、テキストエリア、アップロード、選択、マルチ選択、チェックボックスグループ、ラジオボタン、日付、日付範囲、日付時刻、レート

###### 例

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(array)

Multiselectの選択した値を設定するために使用します。 パラメータは配列でなければなりません。 パラメータは配列でなければなりません。 パラメータは配列でなければなりません。 The parameter should be an array. The parameter should be an array.

###### サポートされるコンポーネント

複数選択

###### 例

```JavaScript
multiselect1.setSelectedValue(["Option 1", "Option 3"])
```

##### submit()

Submit form data. When the submit method is triggered, we will first validate the form data. If there are validation errors, the form submission will be prevented, and the corresponding error messages will be displayed. Only after successful validation does the submission proceed.

###### サポートされるコンポーネント

JSON スキーマフォーム、フォーム

###### 例

```JavaScript
form1.submit()
```

##### toggle()

値をtrueからfalseに、またはfalseからtrueに切り替えるために使用します。

###### サポートされるコンポーネント

切り替え

###### 例

```JavaScript
switch1.toggle()
```

##### setStartOfRange(number)

範囲スライダーのデフォルトの開始値を設定するために使用します。

###### サポートされるコンポーネント

Range Slider

###### 例

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### setEndOfRange(number)

範囲スライダーのデフォルトの終了値を設定するために使用

###### サポートされるコンポーネント

Range Slider

###### 例

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### setStartValue(文字列)

デフォルトの開始値を設定するために使用

###### サポートされるコンポーネント

日付範囲、時間範囲

###### 例

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### setEndValue(文字列)

デフォルトの終了値を設定するために使用

###### サポートされるコンポーネント

日付範囲、時間範囲

###### 例

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(array)

値が true のスイッチを設定するために使用

###### サポートされるコンポーネント

グループを切り替える

###### 例

```JavaScript
switchGroup1.setValueInArray(["Option 1", "Option 3"])
```

##### selectPage(number)

表示するページのインデックスを設定するために使用します。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 The index is a number starting from ０. The index is a number starting from ０.

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.selectPage(1)
```

##### selectRow(number)

選択した行の索引を設定するために使用されます。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 選択した行の索引を設定するために使用されます。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 インデックスは0から始まる数値です。 The index is a number starting from ０.

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.selectRow(1)
```

##### clearSelection()

選択した行をクリアするために使用されます。

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.clearSelection()
```

##### setFilters(オブジェクト、文字列の配列)

フィルタの設定に使用します。

**最初のパラメータ**はオブジェクトの配列です。 各オブジェクトはフィルタ条件を表します。 3つの属性を含みます: 各オブジェクトはフィルタ条件を表します。 3つの属性を含みます: 各オブジェクトはフィルタ条件を表します。 3つの属性を含みます: Each object represents a filtering condition. Each object represents a filtering condition. It includes three attributes:

**`id`** : This refers to the id of this column. If this column is a result of a database query, then the id would be the column name you retrieved from the query. For example, if the query is `SELECT email AS user_email FROM users` and rename `email` as `Email` using the right-hand panel of the table, the id of the column would still be `user_email` If this column is manually added using the `Add Column` button in the right-hand panel, you can check its id in the `displayedData` section of the left-hand panel. Typically, it will be a randomly generated string starting with `column` such as `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : the match type of the filter. **`filterFn`** : フィルタの一致タイプ。 **`filterFn`** : フィルタの一致タイプ。 **`filterFn`** : フィルタの一致タイプ。 We support the following types: `equalTo` which is the same as `=` in SQL, `notEqualTo` which is the same as `<>` in SQL, `contains` which is the same as `LIKE '%value%'` in SQL, `does NotContain` which is the same as `NOT LIKE '%value%'` in SQL, `lessThan` which is the same as `<` in SQL, `notLessThan` which is the same as `>=` in SQL, `notMoreThan` which is the same as `<=` in SQL, `empty` which is the same as `IS NULL` in SQL, `notEmpty` which is the same as `IS NOT NULL` in SQL, `before` is used to compare time or date, which is the same as `>` in SQL, `after` is used to compare time or date, which is the same as `<` in SQL.

**`value`** : 比較する値を設定するのに使用されます。

**The second parameter:** when there are multiple filter condition objects, it determines whether they have an "AND" relationship or an "OR" relationship. Set it as a string `and` for an "AND" relationship, and `or` for an "OR" relationship.

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"May"}, {"id":"month", "filterFn":"equalTo", "value":"June"}], "or")
```

##### clearFilters()

すべてのフィルターをクリアするために使用

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.clearFilters()
```

##### setSort(string, string)

Used to set the sort. **The first parameter** is the id of the column to sort which is a string value. The id is the same as the id mentioned in setFilters(array of objects, string). **The second parameter** is the sorting order, either ascending or descending. It is set using a string value `ascend` or `descend`.

###### サポートされるコンポーネント

表

###### 例

```JavaScript
table1.setSort("incomes", "descend")
```

##### setCurrentViewKey(string)

表示するビューを設定するには、ビューの文字列値であるキーを使用します。

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.setCurrentViewKey("View 2")
```

##### setCurrentViewIndex(number)

ビューの0から始まる数値のインデックスを使用して、表示ビューを設定します。

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.setCurrentViewIndex(1)
```

##### showNextView(boolean)

Used to show the next view. The parameter is a boolean value that determines whether to loop from the end back to the start.

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.showNextView(true)
```

##### showNextVisibleView(boolean)

Used to show the next visible view. 次の表示ビューを表示するために使用されます。 次の表示ビューを表示するために使用されます。 次の表示ビューを表示するために使用されます。 `showNextView(boolean)`関数の動作とは異なり、この関数はトランジション中に非表示のビューをスキップすることでビューの切り替え機能を向上させます。 このパラメータは、終わりから始まりまでループするかどうかを決定する真偽値です。 このパラメータは、終わりから始まりまでループするかどうかを決定する真偽値です。 このパラメータは、終わりから始まりまでループするかどうかを決定する真偽値です。 The parameter is a boolean value that determines whether to loop from the end back to the start.

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.showNextVisibleView(false)
```

##### showPreviousView()

Used to show the previous view. The parameter is a boolean value that determines whether to loop from the start back to the end.

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.showPreviousView(true)
```

##### showPreviousVisibleView()

Used to show the previous visible view. 前の表示ビューを表示するために使用されます。 前の表示ビューを表示するために使用されます。 前の表示ビューを表示するために使用されます。 `showPreviousView(boolean)`関数の動作とは異なり、この関数はトランジション中に隠しビューをスキップすることでビューの切り替え機能を向上させます。 パラメータはブール値で、最初から最後までループするかどうかを決定します。 パラメータはブール値で、最初から最後までループするかどうかを決定します。 パラメータはブール値で、最初から最後までループするかどうかを決定します。 The parameter is a boolean value that determines whether to loop from the start back to the end.

###### サポートされるコンポーネント

コンテナ

###### 例

```JavaScript
container1.showPreviousVisibleView(true)
```

##### reset()

値をデフォルト値にリセットするために使用されます。

###### サポートされるコンポーネント

フォーム

###### 例

```JavaScript
form1.reset()
```

##### resetValue()

値をデフォルト値にリセットするために使用されます。

###### サポートされるコンポーネント

歩数

###### 例

```JavaScript
steps1.resetValue()
```

##### openModal()

モーダルを開くために使用

###### サポートされるコンポーネント

Modal

###### 例

```JavaScript
modal1.openModal()
```

##### closeModal()

モーダルを閉じるために使用

###### サポートされるコンポーネント

Modal

###### 例

```JavaScript
modal1.closeModal()
```

##### setImageUrl(string)

Used to set the Image source URL. 画像のソースURLの設定に使用します。 画像のソースURLの設定に使用します。 これは、Base64 または Web 上の画像を参照する URL である可能性があります。 画像のソースURLの設定に使用します。 これは、Base64 または Web 上の画像を参照する URL である可能性があります。

###### サポートされるコンポーネント

画像

###### 例

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl("data:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage()

入力ボックスの上にある引用符で囲まれた返信メッセージをクリアするために使用されます。

###### サポートされるコンポーネント

チャット

###### 例

```JavaScript
chat1.clearReplyMessage()
```

##### setPrimaryValue(number)

統計の主な値を設定するために使用します。

###### サポートされるコンポーネント

統計情報

###### 例

```JavaScript
statistic1.setPrimaryValue(100)
```

##### resetPrimaryValue()

統計のデフォルトのプライマリ値にリセットするために使用されます。

###### サポートされるコンポーネント

統計情報

###### 例

```JavaScript
statistic1.resetPrimaryValue()
```

##### setFileUrl(string)

Used to set the file URL. It can be a Base64 or a URL pointing to a PDF on the web.

###### サポートされるコンポーネント

PDF

###### 例

```JavaScript
pdf1.setFileUrl("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### play()

ビデオやオーディオの再生に使用されます。

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.play()
```

##### pause()

ビデオやオーディオを一時停止するために使用されます。

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.pause()
```

##### showControls(boolean)

コントロールを表示するかどうかを設定するために使用します。

###### サポートされるコンポーネント

ビデオ

###### 例

```JavaScript
video1.showControls(true)
```

##### setVideoUrl(string)

Used to set the video's URL. It can be a Base64 or a video URL on media websites.

###### サポートされるコンポーネント

ビデオ

###### 例

```JavaScript
video1.setVideoUrl("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(number)

Used to set the volume. The parameter is a number value between 0 to 1.

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

`video1.setVolume(0.5)`

##### setSpeed(number)

Used to set the speed. The parameter is a number value between 0.25 to 2.

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.setSpeed(0.5)
```

##### setLoop(boolean)

再生をループするかどうかを設定するために使用します。

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.setLoop(false)
```

##### seekTo(number)

Used to seek to a specific time position. The parameter is a number value, measured in seconds (s). For example, to seek to the time position 5:35, you would use the value 335.

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.seekTo(335)
```

##### mute(boolean)

ミュートを設定するかどうかの設定に使用します。

###### サポートされるコンポーネント

ビデオ、オーディオ

###### 例

```JavaScript
video1.mute(true)
```

##### setAudioUrl(string)

Used to set the audio's URL. 動画の URL を設定するために使用します。 メディアのウェブサイトでは、Base64 または動画の URL にすることができます。

###### サポートされるコンポーネント

オーディオ

###### 例

```JavaScript
video1.setAudioUrl("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### slickNext()

次の画像に切り替えるために使用します。

###### サポートされるコンポーネント

Carousel

###### 例

```JavaScript
carousel1.slickNext()
```

##### slickPrevious()

前の画像に切り替えるために使用します。

###### サポートされるコンポーネント

Carousel

###### 例

```JavaScript
caroussel1.slickPrevious()
```

##### setSrc()

IFrame のソース URL を設定するために使用します。

###### サポートされるコンポーネント

IFrame

###### 例

```JavaScript
iframe1.setSrc("https://www.nasa.gov/")
```

##### setMarkers(array)

Used to set the markers on the map. The parameter should be an array of objects. The latitude and longitude fields in each object should be same as the fields set in the right-hand panel

###### サポートされるコンポーネント

地図

###### 例

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-11.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":103.3518657894011
 }
])
```

##### resetMarkers()

マーカーを既定のマーカーにリセットするために使用します。

###### サポートされるコンポーネント

地図

###### 例

```JavaScript
map1.resetMarkers()
```

### URL に移動

#### 構成

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### 説明

Use an object to set it. There are 2 attributes in the object. The first attribute is `url`. Its value is a complete URL, including 'https://' or 'http://', and it is of type string. The second attribute is `newTab`. It is a boolean used to set whether to open the URL in a new tab.

#### 例

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### クリップボードにコピー

#### 構成

```JavaScript
utils.copyToClipboard(string)
```

#### 説明

文字列のコピーに使用

#### 例

```JavaScript
utils.copyToClipboard("コピーするテキスト")
```

### ルーターを設定

#### 構成

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

#### 説明

ILLA アプリのページを変更するために使用します。 オブジェクトには2つの属性があります。 オブジェクトには2つの属性があります。 オブジェクトには2つの属性があります。 There are 2 attributes in the object. There are 2 attributes in the object.

最初の属性は `pagePath` です。 最初の属性は `pagePath` です。 pagePath の値は以下のスクリーンショットに `/` なしで表示されます。 最初の属性は `pagePath` です。 pagePath の値は以下のスクリーンショットに `/` なしで表示されます。 The value of pagePath is shown on the following screenshot without `/`. The value of pagePath is shown on the following screenshot without `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

2番目の属性は `viewPath` です。 2番目の属性は `viewPath` です。 viewPath の値は以下のスクリーンショットに `/` なしで表示されます。 2番目の属性は `viewPath` です。 viewPath の値は以下のスクリーンショットに `/` なしで表示されます。 2番目の属性は `viewPath` です。 2番目の属性は `viewPath` です。 viewPath の値は以下のスクリーンショットに `/` なしで表示されます。 2番目の属性は `viewPath` です。 viewPath の値は以下のスクリーンショットに `/` なしで表示されます。 The value of viewPath is shown on the following screenshot without `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### 例

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"sub-page1"
})
```

### ILLA ドライブに保存

#### 構成

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonymous:boolean,
replace:boolean
})
```

#### 説明

ILLA ドライブにファイルを保存するために使用されます。

`fileName`: ILLA ドライブにアップロードした後、ファイルの拡張子を付けた名前。

`fileData`: Base64 または JSON、CSV、プレーンテキストなどの生のファイルデータ。

`fileType`: Auto, Plain text, JPEG, SVG, JSON, CSV, TSV, Excel(.xlsx). 「自動」を使用する場合、ファイル拡張子またはファイルデータのいずれかに基づいてファイルの種類を決定しようとします。

`folder`: Destination folder for file upload. Leave it blank to upload to the root folder.

`allowAnonymous`: Used to set whether anonymous user access is allowed. If you plan to set your application as public, anonymous access must be enabled. For the security of your data, files or folders accessible anonymously must be placed in the anonymous folder.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`replace`: 同じディレクトリに同じ名前のファイルがある場合に設定するために使用されます。 既存のファイルを新しいファイルに置き換えるか、自動的に新しいファイルの名前を変更します。

#### 例

```JavaScript
//upload1 を使用してデバイスからファイルを選択し、アプリフォルダにアップロードします。 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1. iles[0].dataURI,
fileType:"PNG",
folder:"apps",
allowAnonymous:false,
replace:true
})
```

```JavaScript
//テキストファイルをアップロードします。  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Plain text",
folder:"apps",
allowAnonymous:false,
replace:true
})
```

### ILLA Driveからダウンロード

#### 構成

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### 説明

ILLAドライブからファイルをダウンロードするために使用されます。

`downloadInfo`: an array of objects including tinyURL and fileID. `downloadInfo`: tinyURLとfileIDを含むオブジェクトの配列。 `downloadInfo`: tinyURLとfileIDを含むオブジェクトの配列。 `downloadInfo`: tinyURLとfileIDを含むオブジェクトの配列。 ドライブファイルピッカーコンポーネントを使用して、ILLA Driveからファイルを選択し、drivePicker1.valueを介して`downloadInfo`を取得できます。

`asZip`: ファイルをZipとしてダウンロードするかどうかを設定します。

#### 例

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### ダウンロード

#### 構成

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### 説明

デバイスにデータをエクスポートするために使用されます。

`fileType`: Auto, Plain text, JPEG, SVG, JSON, CSV, TSV, Excel(.xlsx). 「自動」を使用する場合、ファイル拡張子またはファイルデータのいずれかに基づいてファイルの種類を決定しようとします。

`fileName`: 拡張子を持つ名前。

`data`: ファイルのデータ。

#### 例

```JavaScript
//CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    data: table2.dataSourceJS
})
```

```JavaScript
//download image
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    data: image1.imageSrc
})
```

### グローバルデータを設定

#### グローバルデータの値を設定

##### 構成

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### 説明

gobalData の値を設定するために使用

`key`: 以下のスクリーンショットが示すように globalData の displayName を指定します。

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`value`: 設定する値

##### 例

```JavaScript
//input5 を使用してユーザーの入力値を取得し、stringStateの値として設定します。 
utils.setGlobalDataValue({
key:"stringState", 
value:input5.value
})
```

#### グローバルデータの設定

##### 構成

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### 説明

グローバルデータが配列またはオブジェクトの場合 setGlobalDataIn を使用して、配列内の特定のインデックスに対応する値を変更したり、オブジェクト内の特定のキーに対応する値を変更したりします。

`key`: globalData の displayName 。

`path`: 配列またはオブジェクト内のキーで更新する値のインデックス。 例えば、配列に 2 番目の値を設定するには、パスは 1 (インデックス) です。 key1 という名前の属性の値を設定するには、path は key1 です。 例えば、配列に 2 番目の値を設定するには、パスは 1 (インデックス) です。 key1 という名前の属性の値を設定するには、path は key1 です。 例えば、配列に 2 番目の値を設定するには、パスは 1 (インデックス) です。 key1 という名前の属性の値を設定するには、path は key1 です。 For example, to set the second value in array, the path is 1 (the index). For example, to set the second value in array, the path is 1 (the index). To set the value of the attribute named key1, the path is key1.

`value`: 設定する値

##### 例

```JavaScript
//objectState はオブジェクトです: {"key1":"value1", "key2":"value2"}, 
utils.setGlobalDataIn({
key:"objectState", 
path:"key2", 
value:input7.value
})
```

## ビルトインライブラリ

| **ライブラリ**         | **ドキュメント**                                                            | **ILLA ビルダーでの使用方法**                 | **例**                                                       |
| ----------------- | --------------------------------------------------------------------- | ----------------------------------- | ----------------------------------------------------------- |
| Lodash            | https://lodash.com/docs/4.17.15                                       | `_`                                 | `_.concat(array, 2, [3], [[4]]);`                           |
| Day.js            | https://day.js.org/                                                   | `dayjs`                             | `dayjs(new Date())`                                         |
| uuid              | <https://www.npmjs.com/package/uuid>                                  | `uuid`                              | `uuid.parse()`                                              |
| numbro            | https://numbrojs.com/                                                 | `numbro`                            | `numbro(1000).format({thousandSeparated: true})`            |
| Papa              | https://www.papaparse.com/docs                                        | `Papa`                              | `Papa.parse(url, {download: true, // rest of config ... })` |

## アクションの価値, コンポーネント...

Use `displayName.xxx` to use the value of actions, components, or other globalData. Please note that in the Run Script, these variables can be directly accessed without using `{{` references.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark_button:
    asZip:true
})
```
