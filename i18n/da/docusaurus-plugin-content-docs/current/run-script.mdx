---
slug: /
title: Kør Script
description: Ved at udløse Kør Script gennem en Event handler, kan du opnå sekventiel udførelse af operationer og udføre forskellige handlinger baseret på forskellige tilstand.
---

# Kør Script

Ved at udløse Kør Script gennem en Event handler, kan du opnå sekventiel udførelse af operationer og udføre forskellige handlinger baseret på forskellige tilstand.

## Hvordan

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" allowfullscreen="true" style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### Demo

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" allowfullscreen="true" style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Kør og gaffel

https://illa.ai/app/ILAfx4p1C7Ac/detail

### Brug sag: Log ind og omdirigere til forskellige sider

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" allowfullscreen="true" style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Kør og gaffel

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### Udløser handling

#### Struktur

```JavaScript
const exampleData = afvent actionName.trigger();
```

Handlingsnavnet er den streng, der vises på skærmbilledet, som følger.

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### Varebeskrivelse

I Kør Script, variablen `eksempelData` er det samme som `actionName.data`.

#### Eksempel

For eksempel bruger vi handlingen `postgresql1` til at forespørge James' e-mail.

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

Udløs handlingen via Kør Script

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data` er

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

Når vi skal bruge JavaScript til at hente en e-mail i komponentens Inspect eller andre steder, kan vi bruge følgende: `{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

And when we need to use the email in the "Run Script" after executing the statement `const exampleData = await postgresql1.trigger();`, we can directly use `exampleData[0].email`.

Show a success notification when the query is successful and the result is unique. Show a failure notification when the query result is not unique or when it fails.

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = await postgresql1.trigger();
//show email via notifikation når længden af det resulterende array er 1.
if(exampleData.length==1){
utils. howNotification(
  {
    type:"info",
    titel:"Hentet succesfuld",
    beskrivelse:eksempelData[0]. mail,
    varighed: 4500}
);
  }else{
  //else, vis en mislykket meddelelse
utils. howNotification(
  {
    type:"info",
    title:"Mislykkedes at hente",
    varighed: 4500
  }
);
};
```

### Vis notifikation

#### Struktur

```JavaScript
utils.showNotification(
{
type: "info",
titel: "Tillykke",
beskrivelse: "Hentet med succes",
varighed: 4500
}
)
```

#### Varebeskrivelse

| Parameter   | Varebeskrivelse                                               | Datatype                                                                         | Eksempel                               |
| ----------- | ------------------------------------------------------------- | -------------------------------------------------------------------------------- | -------------------------------------- |
| type        | Bruges til at indstille ikontypen i notifikationen.           | Streng, en af følgende værdier:"info"`default`"success""error""warning"          | type: "info"                           |
| titel       | Bruges til at angive titlen på notifikationen                 | Streng                                                                           | titel: "Tillykke"                      |
| beskrivelse | Bruges til at angive beskrivelsen                             | Streng                                                                           | beskrivelse: "Hentet succesfuldt"      |
| varighed    | Bruges til at indstille visningsvarigheden af notifikationen. | Antal, I millisekunder (ms)                                                      | varighed: 4500                         |

#### Eksempel

Vis notifikation når du klikker på knappen:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

Det er det samme som Vis notifikations-handlingen, som følgende skærmbillede viser:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### Kontroller komponent

#### Struktur

```JavaScript
componentDisplayName.function()
```

componentDisplayName er den streng, der vises på skærmbilledet, som følger.

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### Varebeskrivelse

##### setValue(parameter)

Used to set the value. The parameter could be a `string` or `number` or `object` or `boolean` or `array` which depends on the component type.

###### Understøttede komponenter

| Komponent                                                                                                                                                        | Parameter type                                                     | Eksempel                                                                                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Input, Redigerbar Tekst, Tekstområde, Divider, Vælg, Radio Group, Radio Button, Radio Knap, Dato, Dato, Tid, Skridt, Tekst, Bar Progress, Cirkel Fremskridt      | `streng`                                                           | `input1.setValue("Hej verden")`                                                                                                                                                              |
| JSON Editor                                                                                                                                                      | `streng`                                                           | jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telefon": "1-800-KICKASS" }`)            |
| Tidslinje                                                                                                                                                        | `streng`, Adskil værdierne af forskellige knuder via komma (,)     | `timeline1.setValue("Den første milepæl, Den anden milepæl")`                                                                                                                                |
| Antal Input, Skyderen, Bedøm                                                                                                                                     | `nummer`                                                           | `numberInput1.setValue(1000)`                                                                                                                                                                |
| Skift                                                                                                                                                            | `boolean`                                                          | `switch1.setValue(false)`                                                                                                                                                                    |
| JSON Skema Form, Form                                                                                                                                            | `objekt`                                                           | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telefon": "1-800-KICKASS" })`        |
| Afkrydsningsfelt Gruppe, Cascader                                                                                                                                | `array`                                                            | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                      |

##### clearValue ()

Bruges til at rydde værdien

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, JSON Editor, JSON Schema Form, Switch, Vælg, Multiselect, Checkbox Group, Cascader, Radio Group, Radio Button, Dato, Datointerval, Data Time, Datotid, Tekst, Sats, Bar Progress, Circle Progress, Timeline, Divider

###### Eksempel

```JavaScript
input1.clearValue()
```

##### focus ()

Bruges til at fokusere på komponenten

###### Understøttede komponenter

Input, Number Input, Redigerbar Tekst, Tekstområde, JSON Editor, Rich text editor, Radio Group,

###### Eksempel

```JavaScript
input1.focus()
```

##### validate()

When you have set validation conditions for a component, such as email format, URL format, or required field, you can use the `validate()` function to determine if it meets the requirements. If it does not meet the requirements, a validation message will be displayed.

Indstil valideringsbetingelserne:

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

Vis valideringsmeddelelsen:

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, Vælg, Multiselect, Checkbox Group, Radio Group, Radio Button, Dato, Tidspunkt, Tidspunkt, Form, Bedøm

###### Eksempel

```JavaScript
input1.validate()
```

##### clearValidering ()

Bruges til at rydde valideringsbeskeden.

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, Vælg, Multiselect, Afkrydsningsfelt Gruppe, Radioknap, Dato, Tidspunkt, Bedøm

###### Eksempel

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(array)

Used to set the selected value of Multiselect. The parameter should be an array.

###### Understøttede komponenter

Multivalg

###### Eksempel

```JavaScript
multiselect1.setSelectedValue(["Option 1", "Option 3"])
```

##### submit()

Submit form data. When the submit method is triggered, we will first validate the form data. If there are validation errors, the form submission will be prevented, and the corresponding error messages will be displayed. Only after successful validation does the submission proceed.

###### Understøttede komponenter

JSON Skema Form, Form

###### Eksempel

```JavaScript
form1.submit()
```

##### skift ()

Bruges til at skifte værdi fra sand til falsk eller fra falsk til sandt.

###### Understøttede komponenter

Skift

###### Eksempel

```JavaScript
switch1. skift ()
```

##### setStartOfRange(number)

Bruges til at indstille standardstartværdien for intervalskyderen

###### Understøttede komponenter

Range Slider

###### Eksempel

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### setEndOfRange(tal)

Bruges til at indstille standard slutværdi for skyderen interval

###### Understøttede komponenter

Range Slider

###### Eksempel

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### setStartValue(streng)

Bruges til at indstille standardstartværdien

###### Understøttede komponenter

Datoområde, Tidsinterval

###### Eksempel

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### setEndValue(streng)

Bruges til at indstille standard slutværdi

###### Understøttede komponenter

Datoområde, Tidsinterval

###### Eksempel

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(array)

Bruges til at indstille kontakterne hvis værdi er sand

###### Understøttede komponenter

Skift Gruppe

###### Eksempel

```JavaScript
switchGroup1.setValueInArray(["Option 1", "Option 3"])
```

##### selectPage(nummer)

Used to set the index of the page to display. The index is a number starting from ０.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.selectPage(1)
```

##### selectRow(tal)

Used to set the index of selected row. The index is a number starting from ０.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.selectRow(1)
```

##### clearSelection()

Bruges til at rydde den markerede række.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.clearSelection()
```

##### setFiltere(matrix af objekter, streng)

Bruges til at indstille filtre.

**The first parameter** is an array of objects. Each object represents a filtering condition. It includes three attributes:

**`id`** : This refers to the id of this column. If this column is a result of a database query, then the id would be the column name you retrieved from the query. For example, if the query is `SELECT email AS user_email FROM users` and rename `email` as `Email` using the right-hand panel of the table, the id of the column would still be `user_email` If this column is manually added using the `Add Column` button in the right-hand panel, you can check its id in the `displayedData` section of the left-hand panel. Typically, it will be a randomly generated string starting with `column` such as `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : the match type of the filter. We support the following types: `equalTo` which is the same as `=` in SQL, `notEqualTo` which is the same as `<>` in SQL, `contains` which is the same as `LIKE '%value%'` in SQL, `does NotContain` which is the same as `NOT LIKE '%value%'` in SQL, `lessThan` which is the same as `<` in SQL, `notLessThan` which is the same as `>=` in SQL, `notMoreThan` which is the same as `<=` in SQL, `empty` which is the same as `IS NULL` in SQL, `notEmpty` which is the same as `IS NOT NULL` in SQL, `before` is used to compare time or date, which is the same as `>` in SQL, `after` is used to compare time or date, which is the same as `<` in SQL.

**`værdi`** : bruges til at sætte værdien til sammenligning.

**The second parameter:** when there are multiple filter condition objects, it determines whether they have an "AND" relationship or an "OR" relationship. Set it as a string `and` for an "AND" relationship, and `or` for an "OR" relationship.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"Maj"}, {"id":"month", "filterFn":"equalTo", "value":"Juni"}], "eller")
```

##### clearFilters()

Bruges til at rydde alle filtre

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
Tabel 1.clearFiltre ()
```

##### setSort(string, string)

Used to set the sort. **The first parameter** is the id of the column to sort which is a string value. The id is the same as the id mentioned in setFilters(array of objects, string). **The second parameter** is the sorting order, either ascending or descending. It is set using a string value `ascend` or `descend`.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
table1.setSort("indtægter", "descend")
```

##### setCurrentViewKey( streng)

Brug tasten som er en strengværdi i visningen til at indstille den viste visning.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1. setCurrentViewKey("View 2")
```

##### setCurrentViewIndex(tal)

Brug indekset som er en talværdi startende fra 0 i visningen for at indstille den viste visning.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.setCurrentViewIndex(1)
```

##### showNextView( boolean)

Used to show the next view. The parameter is a boolean value that determines whether to loop from the end back to the start.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showNextView(true)
```

##### showNextVisibleView( boolean)

Used to show the next visible view. Unlike the behavior of the `showNextView(boolean)` function, this function offers improved view switching functionality by skipping any hidden views during the transition. The parameter is a boolean value that determines whether to loop from the end back to the start.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showNextVisibleView(false)
```

##### showPreviousView()

Used to show the previous view. The parameter is a boolean value that determines whether to loop from the start back to the end.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showPreviousView(true)
```

##### showPreviousVisibleView()

Used to show the previous visible view. Unlike the behavior of the `showPreviousView(boolean)` function, this function offers improved view switching functionality by skipping any hidden views during the transition. The parameter is a boolean value that determines whether to loop from the start back to the end.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showForrigeSynligtVis( sand)
```

##### reset()

Bruges til at nulstille værdien til standardværdien.

###### Understøttede komponenter

Formular

###### Eksempel

```JavaScript
form1.reset()
```

##### resetValue ()

Bruges til at nulstille værdien til standardværdien.

###### Understøttede komponenter

Trin

###### Eksempel

```JavaScript
steps1.resetValue ()
```

##### openModal()

Bruges til at åbne en modal

###### Understøttede komponenter

Modal

###### Eksempel

```JavaScript
modal1.openModal()
```

##### closeModal ()

Bruges til at lukke en modal

###### Understøttede komponenter

Modal

###### Eksempel

```JavaScript
modal1.closeModal ()
```

##### setImageUrl( streng)

Used to set the Image source URL. It can be a Base64 or a URL pointing to an image on the web.

###### Understøttede komponenter

Billede

###### Eksempel

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl ("data:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage ()

Bruges til at rydde den citerede svarbesked over indtastningsfeltet.

###### Understøttede komponenter

Chat

###### Eksempel

```JavaScript
chat1. clearReplyMessage ()
```

##### setPrimaryValue(tal)

Bruges til at indstille den primære værdi af statistik.

###### Understøttede komponenter

Statistik

###### Eksempel

```JavaScript
statistik1.setPrimaryValue(100)
```

##### resetPrimaryValue ()

Bruges til at nulstille den primære værdi til den primære standardværdi af statistik.

###### Understøttede komponenter

Statistik

###### Eksempel

```JavaScript
statistik1.resetPrimaryValue ()
```

##### setFileUrl( streng)

Used to set the file URL. It can be a Base64 or a URL pointing to a PDF on the web.

###### Understøttede komponenter

PDF

###### Eksempel

```JavaScript
pdf1.setFileUrl ("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### afspil ()

Bruges til at afspille video eller lyd.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.afspil ()
```

##### pause()

Bruges til at pause video eller lyd.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.pause()
```

##### showControls(boolean)

Bruges til at indstille om kontrolelementerne skal vises.

###### Understøttede komponenter

Video

###### Eksempel

```JavaScript
video1.showControls(sand)
```

##### setVideoUrl (streng)

Used to set the video's URL. It can be a Base64 or a video URL on media websites.

###### Understøttede komponenter

Video

###### Eksempel

```JavaScript
video1.setVideoUrl ("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(tal)

Used to set the volume. The parameter is a number value between 0 to 1.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

`video1.setVolumen(0.5)`

##### setSpeed(tal)

Used to set the speed. The parameter is a number value between 0.25 to 2.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.setSpeed(0.5)
```

##### setLoop( boolean)

Bruges til at indstille om afspilningen skal sløjfes.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.setLoop(false)
```

##### seekTo(nummer)

Used to seek to a specific time position. The parameter is a number value, measured in seconds (s). For example, to seek to the time position 5:35, you would use the value 335.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.seekTo(335)
```

##### mute(boolean)

Bruges til at indstille mute eller ej.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.mute(sand)
```

##### setAudioUrl( streng)

Used to set the audio's URL. It can be a Base64 or a video URL on media websites.

###### Understøttede komponenter

Lyd

###### Eksempel

```JavaScript
video1.setAudioUrl ("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### slickNext()

Bruges til at skifte til næste billede.

###### Understøttede komponenter

Carousel

###### Eksempel

```JavaScript
carousel1.slickNext()
```

##### slickPrevious()

Bruges til at skifte til forrige billede.

###### Understøttede komponenter

Carousel

###### Eksempel

```JavaScript
carousel1.slickPrevious()
```

##### setSrc()

Bruges til at angive kilde-URLen til IFrame.

###### Understøttede komponenter

IFrame

###### Eksempel

```JavaScript
iframe1.setSrc ("https://www.nasa.gov/")
```

##### setMarkers(array)

Used to set the markers on the map. The parameter should be an array of objects. The latitude and longitude fields in each object should be same as the fields set in the right-hand panel

###### Understøttede komponenter

Kort

###### Eksempel

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
])
```

##### resetMarkers()

Bruges til at nulstille markørerne til standardmarkørerne.

###### Understøttede komponenter

Kort

###### Eksempel

```JavaScript
map1.resetMarkers()
```

### Gå til URL

#### Struktur

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### Varebeskrivelse

Use an object to set it. There are 2 attributes in the object. The first attribute is `url`. Its value is a complete URL, including 'https://' or 'http://', and it is of type string. The second attribute is `newTab`. It is a boolean used to set whether to open the URL in a new tab.

#### Eksempel

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### Kopiér til udklipsholder

#### Struktur

```JavaScript
utils.copyToClipboard (streng)
```

#### Varebeskrivelse

Bruges til at kopiere en streng

#### Eksempel

```JavaScript
utils.copyToClipboard ("Teksten til kopiering")
```

### Indstil router

#### Struktur

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

#### Varebeskrivelse

Used to change the page in ILLA Apps. There are 2 attributes in the object.

The first attribute is `pagePath`. The value of pagePath is shown on the following screenshot without `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

The second attribute is `viewPath`. The value of viewPath is shown on the following screenshot without `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### Eksempel

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"underside1"
})
```

### Gem til ILLA drev

#### Struktur

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonymous:boolean,
replace:boolean
})
```

#### Varebeskrivelse

Bruges til at gemme en fil til ILLA drev.

`fileName`: Navn med filendelse efter upload til ILLA Drive.

`fileData`: Base64 eller rå fildata, såsom JSON, CSV, almindelig tekst osv.

`fileType`: One of the following values: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). When using "Auto," we will attempt to determine the file type based on either the file extension or the file data.

`folder`: Destination folder for file upload. Leave it blank to upload to the root folder.

`allowAnonymous`: Used to set whether anonymous user access is allowed. If you plan to set your application as public, anonymous access must be enabled. For the security of your data, files or folders accessible anonymously must be placed in the anonymous folder.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`erstat`: Bruges til at angive, når der er filer med samme navn i samme mappe, erstatte den eksisterende fil med ny fil eller automatisk omdøbe den nye fil.

#### Eksempel

```JavaScript
//brug upload1 til at vælge filer fra enheden og uploade til app-mappen. 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1. iles[0].dataURI,
fileType:"PNG",
folder:"apps",
allowAnonym:false,
replace:true
})
```

```JavaScript
//upload en tekstfil.  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Plain text",
folder:"apps",
allowAnonym:false,
replace:true
})
```

### Download fra ILLA drev

#### Struktur

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### Varebeskrivelse

Bruges til at downloade filer fra ILLA drev.

`downloadInfo`: an array of objects including tinyURL and fileID. You can use the component Drive file picker to pick files from ILLA Drive and get the `downloadInfo` via drivePicker1.value

`asZip`: bruges til at angive, om filerne skal downloades som en zip.

#### Eksempel

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### Hent

#### Struktur

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### Varebeskrivelse

Bruges til at eksportere data til din enhed.

`fileType`: One of the following values: Auto, Plain text, JPEG, PNG, SVG, JSON, CSV, TSV, Excel(.xlsx). When using "Auto," we will attempt to determine the file type based on either the file extension or the file data.

`fileName`: et navn med udvidelse.

`data`: data for filen.

#### Eksempel

```JavaScript
//download data i tabellen som en CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    data: table2.dataSourceJS
})
```

```JavaScript
//download billede
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    data: image1.imageSrc
})
```

### Sæt globale data

#### Sæt global dataværdi

##### Struktur

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### Varebeskrivelse

Bruges til at indstille værdien af gobalData

`key`: displayName of globalData som det følgende skærmbillede viser.

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`værdi`: den værdi, der skal angives

##### Eksempel

```JavaScript
//brug input5 for at få brugerinputværdien og sat som værdien af strengstate. 
utils.setGlobalDataValue({
nøgle:"stringState", 
værdi:input5.value
})
```

#### Sæt globale data i

##### Struktur

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### Varebeskrivelse

Når de globale data er et array eller objekt, brug setGlobalDataIn for at ændre værdien svarende til et bestemt indeks i et array eller for at ændre værdien svarende til en bestemt nøgle i et objekt.

`key`: displayName of globalData.

`path`:  the index of the value you intend to update in the array or the key in the object. For example, to set the second value in array, the path is 1 (the index). To set the value of the attribute named key1, the path is key1.

`værdi`: den værdi, der skal angives

##### Eksempel

```JavaScript
//objectState er et objekt: {"key1":"value1", "key2":"value2"}, for at indstille 
utils.setGlobalDataIn({
nøgle:"objectState", 
sti:"key2", 
værdi:input7.value
})
```

## Indbyggede biblioteker

| **Bibliotek**     | **Dok**                                                               | **Sådan bruges det i ILLA Builder** | **Eksempel**                                                |
| ----------------- | --------------------------------------------------------------------- | ----------------------------------- | ----------------------------------------------------------- |
| Lodash            | https://lodash.com/docs/4.17.15                                       | `_`                                 | `_.concat(array, 2, [3], [[4]]);`                           |
| Day.js            | https://day.js.org/                                                   | `dayjs`                             | `dayjs(ny dato())`                                          |
| uuid              | <https://www.npmjs.com/package/uuid>                                  | `uuid`                              | `uuid.parse()`                                              |
| numbro            | https://numbrojs.com/                                                 | `numbro`                            | `numbro(1000).format({thousandSeparated: true})`            |
| Papa              | https://www.papaparse.com/docs                                        | `Papa`                              | `Papa.parse(url, {download: true, // rest of config ... })` |

## Værdi af handlinger, komponenter...

Use `displayName.xxx` to use the value of actions, components, or other globalData. Please note that in the Run Script, these variables can be directly accessed without using `{{` references.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark_button:
    asZip:true
})
```
