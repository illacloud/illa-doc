---
slug: /
title: Kør Script
description: Ved at udløse Kør Script gennem en Event handler, kan du opnå sekventiel udførelse af operationer og udføre forskellige handlinger baseret på forskellige tilstand.
---

# Kør Script

Ved at udløse Kør Script gennem en Event handler, kan du opnå sekventiel udførelse af operationer og udføre forskellige handlinger baseret på forskellige tilstand.

## Hvordan

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://demo.arcade.software/r6dDc3eLjVfcrx2yGZnQ?embed" frameborder="0" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

### Demo

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAfx4p1C7Ac" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Kør og gaffel

https://illa.ai/app/ILAfx4p1C7Ac/detail

### Brug sag: Log ind og omdirigere til forskellige sider

<div style={{
    position: "relative",
    paddingBottom: "calc(56.81216931216932% + 41px)", 
    height: 0
    }}><iframe src="https://builder.illacloud.com/illacloud_demo/deploy/app/ILAex4p1C7Eh" frameborder="1" loading="lazy" webkitallowfullscreen mozallowfullscreen allowfullscreen style={{position: "absolute", top: 0, left: 0, width: "100%", height: "100%", colorScheme: "light"}}></iframe></div>

#### Kør og gaffel

https://illa.ai/app/ILAex4p1C7Eh/detail

## ILLA custom functions

### Udløser handling

#### Struktur

```JavaScript
const exampleData = afvent actionName.trigger();
```

Handlingsnavnet er den streng, der vises på skærmbilledet, som følger.

![1](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/1.png)

#### Varebeskrivelse

I Kør Script, variablen `eksempelData` er det samme som `actionName.data`.

#### Eksempel

For eksempel bruger vi handlingen `postgresql1` til at forespørge James' e-mail.

![2](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/2.png)

Udløs handlingen via Kør Script

![3](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/3.png)

`postgresql1.data` er

```JSON
[
  {
    "email": "James@outlook.com",
    "id": "1",
    "img": "https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=1600",
    "name": "James"
  }
]
```

Når vi skal bruge JavaScript til at hente en e-mail i komponentens Inspect eller andre steder, kan vi bruge følgende: `{{postgresql1.data[0].email}}`

![4](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/4.png)

Og når vi har brug for at bruge e-mailen i "Kør Script" efter udførelse af erklæringen `const eksempelData = venter postgresql1. rigger();`, vi kan direkte bruge `eksempelData[0].email`.

Vis en succesnotifikation når forespørgslen er vellykket, og resultatet er unikt. Vis en fejlmeddelelse, når forespørgselsresultatet ikke er unikt eller når det mislykkes.

![5](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/5.png)

```JSON
const exampleData = await postgresql1.trigger();
//show email via notifikation når længden af det resulterende array er 1.
if(exampleData.length==1){
utils. howNotification(
  {
    type:"info",
    titel:"Hentet succesfuld",
    beskrivelse:eksempelData[0]. mail,
    varighed: 4500}
);
  }else{
  //else, vis en mislykket meddelelse
utils. howNotification(
  {
    type:"info",
    title:"Mislykkedes at hente",
    varighed: 4500
  }
);
};
```

### Vis notifikation

#### Struktur

```JavaScript
utils.showNotification(
{
type: "info",
titel: "Tillykke",
beskrivelse: "Hentet med succes",
varighed: 4500
}
)
```

#### Varebeskrivelse

| Parameter   | Varebeskrivelse                                               | Datatype                                                                         | Eksempel                               |
| ----------- | ------------------------------------------------------------- | -------------------------------------------------------------------------------- | -------------------------------------- |
| type        | Bruges til at indstille ikontypen i notifikationen.           | Streng, en af følgende værdier:"info"`default`"success""error""warning"          | type: "info"                           |
| titel       | Bruges til at angive titlen på notifikationen                 | Streng                                                                           | titel: "Tillykke"                      |
| beskrivelse | Bruges til at angive beskrivelsen                             | Streng                                                                           | beskrivelse: "Hentet succesfuldt"      |
| varighed    | Bruges til at indstille visningsvarigheden af notifikationen. | Antal, I millisekunder (ms)                                                      | varighed: 4500                         |

#### Eksempel

Vis notifikation når du klikker på knappen:

![6](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/6.png)

Det er det samme som Vis notifikations-handlingen, som følgende skærmbillede viser:

![7](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/7.png)

### Kontroller komponent

#### Struktur

```JavaScript
componentDisplayName.function()
```

componentDisplayName er den streng, der vises på skærmbilledet, som følger.

![8](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/8.png)

#### Varebeskrivelse

##### setValue(parameter)

Bruges til at indstille værdien. Parameteren kan være en 'streng' eller 'tal' eller 'objekt' eller 'boolean' eller 'array', som afhænger af komponenttypen.

###### Understøttede komponenter

| Komponent                                                                                                                                                        | Parameter type                                                     | Eksempel                                                                                                                                                                                     |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Input, Redigerbar Tekst, Tekstområde, Divider, Vælg, Radio Group, Radio Button, Radio Knap, Dato, Dato, Tid, Skridt, Tekst, Bar Progress, Cirkel Fremskridt      | `streng`                                                           | `input1.setValue("Hej verden")`                                                                                                                                                              |
| JSON Editor                                                                                                                                                      | `streng`                                                           | jsonEditor1.setValue(`{ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telefon": "1-800-KICKASS" }`)            |
| Tidslinje                                                                                                                                                        | `streng`, Adskil værdierne af forskellige knuder via komma (,)     | `timeline1.setValue("Den første milepæl, Den anden milepæl")`                                                                                                                                |
| Antal Input, Skyderen, Bedøm                                                                                                                                     | `nummer`                                                           | `numberInput1.setValue(1000)`                                                                                                                                                                |
| Skift                                                                                                                                                            | `boolean`                                                          | `switch1.setValue(false)`                                                                                                                                                                    |
| JSON Skema Form, Form                                                                                                                                            | `objekt`                                                           | `jsonSchemaForm1.setValue({ "firstName": "Chuck", "lastName": "Norris", "age": 80, "bio": "Roundhouse kicking asses since 1940", "password": "noneed", "telefon": "1-800-KICKASS" })`        |
| Afkrydsningsfelt Gruppe, Cascader                                                                                                                                | `array`                                                            | `cascader1.setValue(["media_source_2","campaign_2-1"])`                                                                                                                                      |

##### clearValue ()

Bruges til at rydde værdien

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, JSON Editor, JSON Schema Form, Switch, Vælg, Multiselect, Checkbox Group, Cascader, Radio Group, Radio Button, Dato, Datointerval, Data Time, Datotid, Tekst, Sats, Bar Progress, Circle Progress, Timeline, Divider

###### Eksempel

```JavaScript
input1.clearValue()
```

##### focus ()

Bruges til at fokusere på komponenten

###### Understøttede komponenter

Input, Number Input, Redigerbar Tekst, Tekstområde, JSON Editor, Rich text editor, Radio Group,

###### Eksempel

```JavaScript
input1.focus()
```

##### validate()

Når du har angivet valideringsbetingelser for en komponent, såsom e-mail format, URL format, eller obligatorisk felt, kan du bruge funktionen `validate()` til at afgøre, om den opfylder kravene. Hvis den ikke opfylder kravene, vil der blive vist en valideringsmeddelelse.

Indstil valideringsbetingelserne:

![9](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/9.png)

Vis valideringsmeddelelsen:

![10](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/10.png)

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, Vælg, Multiselect, Checkbox Group, Radio Group, Radio Button, Dato, Tidspunkt, Tidspunkt, Form, Bedøm

###### Eksempel

```JavaScript
input1.validate()
```

##### clearValidering ()

Bruges til at rydde valideringsbeskeden.

###### Understøttede komponenter

Input, Nummerinput, Redigerbar Tekst, Tekstområde, Upload, Vælg, Multiselect, Afkrydsningsfelt Gruppe, Radioknap, Dato, Tidspunkt, Bedøm

###### Eksempel

```JavaScript
input1.clearValidation()
```

##### setSelectedValue(array)

Bruges til at indstille den valgte værdi for Multiselect. Parameteren skal være et array.

###### Understøttede komponenter

Multivalg

###### Eksempel

```JavaScript
multiselect1.setSelectedValue(["Option 1", "Option 3"])
```

##### submit()

Indsend formulardata. Når metoden for indsendelse udløses, vil vi først validere formulardata. Hvis der er valideringsfejl, vil formularindsendelsen blive forhindret, og de tilsvarende fejlmeddelelser vil blive vist. Indsendelsen fortsættes først efter en vellykket validering.

###### Understøttede komponenter

JSON Skema Form, Form

###### Eksempel

```JavaScript
form1.submit()
```

##### skift ()

Bruges til at skifte værdi fra sand til falsk eller fra falsk til sandt.

###### Understøttede komponenter

Skift

###### Eksempel

```JavaScript
switch1. skift ()
```

##### setStartOfRange(number)

Bruges til at indstille standardstartværdien for intervalskyderen

###### Understøttede komponenter

Range Slider

###### Eksempel

```JavaScript
rangeSlider1.setStartOfRange(1)
```

##### setEndOfRange(tal)

Bruges til at indstille standard slutværdi for skyderen interval

###### Understøttede komponenter

Range Slider

###### Eksempel

```JavaScript
rangeSlider1.setEndOfRange(9)
```

##### setStartValue(streng)

Bruges til at indstille standardstartværdien

###### Understøttede komponenter

Datoområde, Tidsinterval

###### Eksempel

```JavaScript
dateRange1.setStartValue("2023-09-09")
```

##### setEndValue(streng)

Bruges til at indstille standard slutværdi

###### Understøttede komponenter

Datoområde, Tidsinterval

###### Eksempel

```JavaScript
dateRange1.setEndValue("2023-10-09")
```

##### setValueInArray(array)

Bruges til at indstille kontakterne hvis værdi er sand

###### Understøttede komponenter

Skift Gruppe

###### Eksempel

```JavaScript
switchGroup1.setValueInArray(["Option 1", "Option 3"])
```

##### selectPage(nummer)

Bruges til at indstille indekset for siden der skal vises. Indekset er et tal, der starter fra 0.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.selectPage(1)
```

##### selectRow(tal)

Bruges til at indstille indekset for den valgte række. Indekset er et tal, der starter fra 0.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.selectRow(1)
```

##### clearSelection()

Bruges til at rydde den markerede række.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
tab1.clearSelection()
```

##### setFiltere(matrix af objekter, streng)

Bruges til at indstille filtre.

**Den første parameter** er en række objekter. Hvert objekt repræsenterer en filtreringsbetingelse. Den omfatter tre attributter:

**`id`** : Dette refererer til denne kolonnes id. Hvis denne kolonne er et resultat af en database forespørgsel, så vil id være kolonnenavnet du hentede fra forespørgslen. For eksempel, hvis forespørgslen er `SELECT e-mail AS user_email FROM brugere` og omdøbe `email` som `Email` ved hjælp af højre panel i tabellen, kolonnens id ville stadig være `user_email` Hvis denne kolonne tilføjes manuelt ved hjælp af knappen `Tilføj kolonne` i panelet til højre. du kan tjekke dens id i afsnittet `displayedData` i venstre panel. Typisk vil det være en tilfældigt genereret streng startende med `column` såsom `column-320169e8-225a-482d-9853-ad34b3040220`.

**`filterFn`** : matchtypen af filteret. Vi understøtter følgende typer: `equalTo` som er det samme som `=` i SQL, `notEqualTo` som er det samme som `<>` i SQL, `indeholder` som er det samme som `LIKE '%value%'` i SQL, `do NotContain` der er det samme som `IKKE LIKE '%value%'` i SQL, `lessThan` som er det samme som `<` i SQL, `notLessThan` som er det samme som `>=` i SQL, `notMoreThan` som er det samme som `<=` i SQL, `tom` som er det samme som `IS NULL` i SQL, `notEmpty` som er det samme som `ER IKKE NULL` i SQL, `før` bruges til at sammenligne tid eller dato, hvilket er det samme som `>` i SQL, `after` bruges til at sammenligne tid eller dato, hvilket er det samme som `<` i SQL.

**`værdi`** : bruges til at sætte værdien til sammenligning.

**Den anden parameter:** når der er flere filterbetingelsesobjekter, afgør det, om de har et "AND" forhold eller et "OR" forhold. Set it as a string `and` for an "AND" relationship, and `or` for an "OR" relationship. (Automatic Copy)

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
table1.setFilters([{"id":"month", "filterFn":"equalTo", "value":"Maj"}, {"id":"month", "filterFn":"equalTo", "value":"Juni"}], "eller")
```

##### clearFilters()

Bruges til at rydde alle filtre

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
Tabel 1.clearFiltre ()
```

##### setSort(string, string)

Bruges til at indstille sorten. **Den første parameter** er id for kolonnen til sortering, som er en strengværdi. Id er det samme som den id, der er nævnt i setFilters(vifte af objekter, streng). **Den anden parameter** er sorteringsrækkefølgen, enten stigende eller aftagende. Det er indstillet ved hjælp af en strengværdi `ascend` eller `descend`.

###### Understøttede komponenter

Tabel

###### Eksempel

```JavaScript
table1.setSort("indtægter", "descend")
```

##### setCurrentViewKey( streng)

Brug tasten som er en strengværdi i visningen til at indstille den viste visning.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1. setCurrentViewKey("View 2")
```

##### setCurrentViewIndex(tal)

Brug indekset som er en talværdi startende fra 0 i visningen for at indstille den viste visning.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.setCurrentViewIndex(1)
```

##### showNextView( boolean)

Bruges til at vise den næste visning. Parameteren er en boolsk værdi, der bestemmer, om der skal sløjfe fra slutningen tilbage til starten.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showNextView(true)
```

##### showNextVisibleView( boolean)

Bruges til at vise den næste synlige visning. I modsætning til opførslen af funktionen `showNextView(boolean)` tilbyder denne funktion forbedret visning skifter funktionalitet ved at springe over skjulte visninger under overgangen. Parameteren er en boolsk værdi, der bestemmer, om der skal sløjfe fra slutningen tilbage til starten.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showNextVisibleView(false)
```

##### showPreviousView()

Bruges til at vise den forrige visning. Parameteren er en boolsk værdi, der bestemmer, om der skal sløjfe fra start tilbage til slutningen.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showPreviousView(true)
```

##### showPreviousVisibleView()

Bruges til at vise den forrige synlige visning. I modsætning til opførslen af funktionen `showPreviousView(boolean)` tilbyder denne funktion forbedret visning skifte funktionalitet ved at springe over skjulte visninger under overgangen. Parameteren er en boolsk værdi, der bestemmer, om der skal sløjfe fra start tilbage til slutningen.

###### Understøttede komponenter

Container

###### Eksempel

```JavaScript
container1.showForrigeSynligtVis( sand)
```

##### reset()

Bruges til at nulstille værdien til standardværdien.

###### Understøttede komponenter

Formular

###### Eksempel

```JavaScript
form1.reset()
```

##### resetValue ()

Bruges til at nulstille værdien til standardværdien.

###### Understøttede komponenter

Trin

###### Eksempel

```JavaScript
steps1.resetValue ()
```

##### openModal()

Bruges til at åbne en modal

###### Understøttede komponenter

Modal

###### Eksempel

```JavaScript
modal1.openModal()
```

##### closeModal ()

Bruges til at lukke en modal

###### Understøttede komponenter

Modal

###### Eksempel

```JavaScript
modal1.closeModal ()
```

##### setImageUrl( streng)

Bruges til at angive billedkildens URL. Det kan være en Base64 eller en URL peger på et billede på nettet.

###### Understøttede komponenter

Billede

###### Eksempel

```JavaScript
image1.setImageUrl("https://cloud-api.illacloud.com/drive/f/83095b77-1180-487e-86db-ff117e6083e5")
```

```JavaScript
image1.setImageUrl ("data:image/png;base64,iVBORw0KGgoAA...II=")
```

##### clearReplyMessage ()

Bruges til at rydde den citerede svarbesked over indtastningsfeltet.

###### Understøttede komponenter

Chat

###### Eksempel

```JavaScript
chat1. clearReplyMessage ()
```

##### setPrimaryValue(tal)

Bruges til at indstille den primære værdi af statistik.

###### Understøttede komponenter

Statistik

###### Eksempel

```JavaScript
statistik1.setPrimaryValue(100)
```

##### resetPrimaryValue ()

Bruges til at nulstille den primære værdi til den primære standardværdi af statistik.

###### Understøttede komponenter

Statistik

###### Eksempel

```JavaScript
statistik1.resetPrimaryValue ()
```

##### setFileUrl( streng)

Bruges til at angive filens URL. Det kan være en Base64 eller en URL, der peger på en PDF på nettet.

###### Understøttede komponenter

PDF

###### Eksempel

```JavaScript
pdf1.setFileUrl ("https://upload.wikimedia.org/wikipedia/commons/e/ee/Guideline_No._GD-Ed-2214_Marman_Clamp_Systems_Design_Guidelines.pdf")
```

##### afspil ()

Bruges til at afspille video eller lyd.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.afspil ()
```

##### pause()

Bruges til at pause video eller lyd.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.pause()
```

##### showControls(boolean)

Bruges til at indstille om kontrolelementerne skal vises.

###### Understøttede komponenter

Video

###### Eksempel

```JavaScript
video1.showControls(sand)
```

##### setVideoUrl (streng)

Bruges til at angive videoens URL. Det kan være en Base64 eller en video URL på medier hjemmesider.

###### Understøttede komponenter

Video

###### Eksempel

```JavaScript
video1.setVideoUrl ("https://youtu.be/8sUovZlBh_M")
```

##### setVolume(tal)

Bruges til at indstille volumen. Parameteren er en talværdi mellem 0 og 1.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

`video1.setVolumen(0.5)`

##### setSpeed(tal)

Bruges til at indstille hastigheden. Parameteren er en talværdi mellem 0,25 og 2.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.setSpeed(0.5)
```

##### setLoop( boolean)

Bruges til at indstille om afspilningen skal sløjfes.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.setLoop(false)
```

##### seekTo(nummer)

Bruges til at søge til en bestemt tid position. Parameteren er en talværdi, målt i sekunder (s). For eksempel, at søge til den tid position 5:35, ville du bruge værdien 335.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.seekTo(335)
```

##### mute(boolean)

Bruges til at indstille mute eller ej.

###### Understøttede komponenter

Video, Lyd

###### Eksempel

```JavaScript
video1.mute(sand)
```

##### setAudioUrl( streng)

Bruges til at angive lydens URL. Det kan være en Base64 eller en video URL på medier hjemmesider.

###### Understøttede komponenter

Lyd

###### Eksempel

```JavaScript
video1.setAudioUrl ("https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3")
```

##### slickNext()

Bruges til at skifte til næste billede.

###### Understøttede komponenter

Carousel

###### Eksempel

```JavaScript
carousel1.slickNext()
```

##### slickPrevious()

Bruges til at skifte til forrige billede.

###### Understøttede komponenter

Carousel

###### Eksempel

```JavaScript
carousel1.slickPrevious()
```

##### setSrc()

Bruges til at angive kilde-URLen til IFrame.

###### Understøttede komponenter

IFrame

###### Eksempel

```JavaScript
iframe1.setSrc ("https://www.nasa.gov/")
```

##### setMarkers(array)

Bruges til at sætte markørerne på kortet. Parameteren skal være en række objekter. Felterne bredde- og længdegrad i hvert objekt skal være de samme som de felter, der er angivet i højre panel

###### Understøttede komponenter

Kort

###### Eksempel

```JavaScript
map1.setMarkers([
{
    "lat":57.14009563040699,
    "lng":-114.6018657894011
 },{
     "lat":55.40432513713809,
     "lng":-112.98252263795787
 },{
     "lat":57.841288754888545,
     "lng":-103.3518657894011
 }
])
```

##### resetMarkers()

Bruges til at nulstille markørerne til standardmarkørerne.

###### Understøttede komponenter

Kort

###### Eksempel

```JavaScript
map1.resetMarkers()
```

### Gå til URL

#### Struktur

```JavaScript
utils.goToURL({
url:string,
newTab:boolean
})
```

#### Varebeskrivelse

Brug et objekt til at sætte det. Der er 2 attributter i objektet. Den første attribut er 'url'. Dens værdi er en komplet URL, herunder 'https://' eller 'http://', og den er af typen streng. Den anden attribut er 'newTab'. Det er en boolsk bruges til at angive, om at åbne URL'en i en ny fane.

#### Eksempel

```JavaScript
utils.goToURL({
url:"https://www.illacloud.com",
newTab:true
})
```

### Kopiér til udklipsholder

#### Struktur

```JavaScript
utils.copyToClipboard (streng)
```

#### Varebeskrivelse

Bruges til at kopiere en streng

#### Eksempel

```JavaScript
utils.copyToClipboard ("Teksten til kopiering")
```

### Indstil router

#### Struktur

```JavaScript
utils.setRouter({
pagePath:string;
viewPath:string
})
```

#### Varebeskrivelse

Bruges til at ændre siden i ILLA Apps. Der er 2 attributter i objektet.

Den første attribut er `pagePath`. Værdien af pagePath vises på følgende skærmbillede uden `/`.

![11](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/11.png)

Den anden attribut er 'viewPath'. Værdien af viewPath vises på følgende skærmbillede uden `/`.

![12](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/12.png)

#### Eksempel

```JavaScript
utils.setRouter({
pagePath:"page2", 
viewPath:"underside1"
})
```

### Gem til ILLA drev

#### Struktur

```JavaScript
utils.saveToILLADrive({
fileName:string,
fileData:string,
fileType:string,
folder:string,
allowAnonymous:boolean,
replace:boolean
})
```

#### Varebeskrivelse

Bruges til at gemme en fil til ILLA drev.

`fileName`: Navn med filendelse efter upload til ILLA Drive.

`fileData`: Base64 eller rå fildata, såsom JSON, CSV, almindelig tekst osv.

`fileType`: En af følgende værdier: Auto, Almindelig tekst, JPEG, PNG, SVG, JSON, CSV, TSV, Excel (.xlsx). Når du bruger "Auto", vil vi forsøge at bestemme filtypen baseret på enten filendelsen eller fildataene.

`mappe`: Destinationsmappe til fil upload. Lad det være tomt at uploade til rodmappen.

`allowAnonym`: Bruges til at angive, om anonym brugeradgang er tilladt. Hvis du planlægger at indstille din ansøgning som offentlig, skal anonym adgang være aktiveret. For at sikre dine data, filer eller mapper, der er tilgængelige anonymt, skal de placeres i den anonyme mappe.

![13](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/13.png)

`erstat`: Bruges til at angive, når der er filer med samme navn i samme mappe, erstatte den eksisterende fil med ny fil eller automatisk omdøbe den nye fil.

#### Eksempel

```JavaScript
//brug upload1 til at vælge filer fra enheden og uploade til app-mappen. 
utils.saveToILLADrive({
fileName:upload1.files[0].name,
fileData:upload1. iles[0].dataURI,
fileType:"PNG",
folder:"apps",
allowAnonym:false,
replace:true
})
```

```JavaScript
//upload en tekstfil.  
utils.saveToILLADrive({
fileName:"test.txt",
fileData:"abc",
fileType:"Plain text",
folder:"apps",
allowAnonym:false,
replace:true
})
```

### Download fra ILLA drev

#### Struktur

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:[{
        tinyURL:string,
        fileID:string
        }],
    asZip:boolean
})
```

#### Varebeskrivelse

Bruges til at downloade filer fra ILLA drev.

`downloadInfo`: en række objekter, herunder tinyURL og fileID. Du kan bruge komponenten Drive fil vælger til at vælge filer fra ILLA Drive og få `downloadInfo` via drivePicker1.value

`asZip`: bruges til at angive, om filerne skal downloades som en zip.

#### Eksempel

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,
    asZip:true
})
```

### Hent

#### Struktur

```JavaScript
utils.downloadFile({
    fileType:string,
    fileName:string,
    data:anyType
})
```

#### Varebeskrivelse

Bruges til at eksportere data til din enhed.

`fileType`: En af følgende værdier: Auto, Almindelig tekst, JPEG, PNG, SVG, JSON, CSV, TSV, Excel (.xlsx). Når du bruger "Auto", vil vi forsøge at bestemme filtypen baseret på enten filendelsen eller fildataene.

`fileName`: et navn med udvidelse.

`data`: data for filen.

#### Eksempel

```JavaScript
//download data i tabellen som en CSV
utils.downloadFile({
    fileType:"CSV",
    fileName:"text.csv",
    data: table2.dataSourceJS
})
```

```JavaScript
//download billede
utils.downloadFile({
    fileType:"PNG",
    fileName:"text.png",
    data: image1.imageSrc
})
```

### Sæt globale data

#### Sæt global dataværdi

##### Struktur

```JavaScript
utils.setGlobalDataValue({
key:string, 
value:any
})
```

##### Varebeskrivelse

Bruges til at indstille værdien af gobalData

`key`: displayName of globalData som det følgende skærmbillede viser.

![14](https://cdn.illacloud.com/official-website/img/docs/new-doc/run-script/14.png)

`værdi`: den værdi, der skal angives

##### Eksempel

```JavaScript
//brug input5 for at få brugerinputværdien og sat som værdien af strengstate. 
utils.setGlobalDataValue({
nøgle:"stringState", 
værdi:input5.value
})
```

#### Sæt globale data i

##### Struktur

```JavaScript
utils.setGlobalDataIn({
key:string, 
path:string, 
value:any
})
```

##### Varebeskrivelse

Når de globale data er et array eller objekt, brug setGlobalDataIn for at ændre værdien svarende til et bestemt indeks i et array eller for at ændre værdien svarende til en bestemt nøgle i et objekt.

`key`: displayName of globalData.

`sti`: indekset for den værdi, du har til hensigt at opdatere i arrayet eller nøglen i objektet. For eksempel, for at indstille den anden værdi i array, stien er 1 (indekset). For at indstille værdien af attributten ved navn key1, stien er key1.

`værdi`: den værdi, der skal angives

##### Eksempel

```JavaScript
//objectState er et objekt: {"key1":"value1", "key2":"value2"}, for at indstille 
utils.setGlobalDataIn({
nøgle:"objectState", 
sti:"key2", 
værdi:input7.value
})
```

## Indbyggede biblioteker

| **Bibliotek**     | **Dok**                                                               | **Sådan bruges det i ILLA Builder** | **Eksempel**                                                  |
| ----------------- | --------------------------------------------------------------------- | ----------------------------------- | ------------------------------------------------------------- |
| Lodash            | https://lodash.com/docs/4.17.15                                       | `_`                                 | `_.concat(array, 2, [3], [[4]]);`                             |
| Day.js            | https://day.js.org/                                                   | `dayjs`                             | `dayjs(ny dato())`                                            |
| uuid              | <https://www.npmjs.com/package/uuid>                                  | `uuid`                              | `uuid.parse()`                                                |
| numbro            | https://numbrojs.com/                                                 | `numbro`                            | `numbro(1000).format({thousandSeparated: true})`              |
| Papa              | https://www.papaparse.com/docs                                        | `Papa`                              | `Papa.parse(url, {download: true, // resten af config ... })` |

## Værdi af handlinger, komponenter...

Brug `displayName.xxx` til at bruge værdien af handlinger, komponenter eller andre globalData. Bemærk venligst, at i Kør scriptet kan disse variabler tilgås direkte uden at bruge `{{` referencer.

```JavaScript
utils.downloadFromILLADrive({
    downloadInfo:{{drivePicker1.value}},//❌ 
    asZip:true
})

utils.downloadFromILLADrive({
    downloadInfo:drivePicker1.value,//:check_mark_button:
    asZip:true
})
```
