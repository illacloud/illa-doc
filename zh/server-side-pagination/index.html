<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-server-side-pagination" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Server-side pagination | ILLA Cloud</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.illacloud.com/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.illacloud.com/zh/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.illacloud.com/zh/server-side-pagination"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Server-side pagination | ILLA Cloud"><meta data-rh="true" name="description" content="When dealing with large amounts of data, using server-side pagination in your queries can greatly improve efficiency. In this article, you will learn how to utilize server-side pagination in ILLA Cloud."><meta data-rh="true" property="og:description" content="When dealing with large amounts of data, using server-side pagination in your queries can greatly improve efficiency. In this article, you will learn how to utilize server-side pagination in ILLA Cloud."><link data-rh="true" rel="icon" href="/zh/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.illacloud.com/zh/server-side-pagination"><link data-rh="true" rel="alternate" href="https://docs.illacloud.com/server-side-pagination" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.illacloud.com/zh/server-side-pagination" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.illacloud.com/server-side-pagination" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://WCMU2QUBCQ-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-QW745VE33W"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-QW745VE33W",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="ILLA Cloud" href="/zh/opensearch.xml"><link rel="stylesheet" href="/zh/assets/css/styles.7d312eb0.css">
<link rel="preload" href="/zh/assets/js/runtime~main.dcd5edba.js" as="script">
<link rel="preload" href="/zh/assets/js/main.f4dd2adc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_dol0" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/logo.svg" alt="illa cloud" class="themedImage_OEKu themedImage--light_NWMK"><img src="/zh/img/logo_white.svg" alt="illa cloud" class="themedImage_OEKu themedImage--dark_kaTq"></div></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_rl2T"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/server-side-pagination" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh/server-side-pagination" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><a href="https://github.com/illacloud/illa-builder" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_MYOZ"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_IwNi colorModeToggle_HELi"><button class="clean-btn toggleButton_vE9d toggleButtonDisabled_os9c" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_wXEp"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_CoXj"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_udWG"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_ZkMv docsWrapper_s9Tr"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_kdN2" type="button"></button><div class="docPage_VoBs"><aside class="theme-doc-sidebar-container docSidebarContainer_gVD6"><div class="sidebarViewport__IwI"><div class="sidebar_PK6V"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_eRlZ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh/">构建应用程序</a><button aria-label="打开/收起侧边栏菜单「构建应用程序」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/zh/server-side-pagination">Server-side pagination</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/self-hosted-deployment">Self-hosted deployment</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/custom-domain">branding</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/ai-agent">ILLA with AI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/illa-flow-introduction">illa_flow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/4-8-3">更新日志</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/privacy-policy">illa_policy</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_IWRO"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Tg9Y"><div class="docItemContainer_V788"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_wSmH" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OxHQ"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Server-side pagination</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_Ahb2 theme-doc-toc-mobile tocMobile_Oba3"><button type="button" class="clean-btn tocCollapsibleButton__r0f">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Server-side pagination</h1><p>When building an application using a large dataset, it is crucial to limit the amount of data returned in each query. Returning a large amount of data at once can impact the performance of the application, especially when dealing with complex queries involving multiple table joins.</p><p>The best practice to optimize queries is to implement server-side pagination. By only returning the results necessary to populate the given view, the amount of data transferred can be reduced. When additional data is needed to populate the view, another action can be triggered, and the server will retrieve the next set of results.</p><h2 class="anchor anchorWithStickyNavbar_O99L" id="how-to-enable-server-side-pagination">How to enable server-side pagination<a href="#how-to-enable-server-side-pagination" class="hash-link" aria-label="How to enable server-side pagination的直接链接" title="How to enable server-side pagination的直接链接">​</a></h2><p>Components</p><ul><li>Data Grid</li><li>Grid List</li></ul><div style="position:relative;padding-bottom:calc(56.81216931216932% + 41px);height:0"><iframe src="https://demo.arcade.software/xEIOIF2YZmt54zz9g7g5?embed" frameborder="1" loading="lazy" allowfullscreen="true" style="position:absolute;top:0;left:0;width:100%;height:100%;color-scheme:light"></iframe></div><h2 class="anchor anchorWithStickyNavbar_O99L" id="limit-offset-based-pagination">Limit offset based pagination<a href="#limit-offset-based-pagination" class="hash-link" aria-label="Limit offset based pagination的直接链接" title="Limit offset based pagination的直接链接">​</a></h2><p>Supported on Data Grid and Grid List</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="properties-to-configure">Properties to configure<a href="#properties-to-configure" class="hash-link" aria-label="Properties to configure的直接链接" title="Properties to configure的直接链接">​</a></h3><table><thead><tr><th>Property name</th><th>Type</th><th>Description</th><th>Use example</th></tr></thead><tbody><tr><td>Total row count</td><td>number</td><td>Use <code>{{n}}</code> to set the value. The total number of rows is used to calculate the total number of pages. You can use an Action to query the database for the total number of records and fill in the query result here.</td><td>Create an action named mysql1 with the query statement &quot;select count(*) from users&quot;. This query is used to determine the total number of records in the users table. Simply fill in <code>{{mysql1.data[0].count}}</code> in the Total row count field.</td></tr><tr><td>Page size</td><td>number</td><td>Use <code>{{n}}</code> to set the number of records displayed per page. This will also be used to limit the number of records returned by the database or API in each pagination query.</td><td><code>{{20}}</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_O99L" id="state-of-components">State of components<a href="#state-of-components" class="hash-link" aria-label="State of components的直接链接" title="State of components的直接链接">​</a></h3><table><thead><tr><th>State name</th><th>Description</th></tr></thead><tbody><tr><td>page</td><td>Current page index of data grid or grid list.</td></tr><tr><td>pageSize</td><td>Page size refers to the number of records displayed per page in a data grid or grid list.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_O99L" id="configure-actions">Configure Actions<a href="#configure-actions" class="hash-link" aria-label="Configure Actions的直接链接" title="Configure Actions的直接链接">​</a></h3><p>Take SQL-like database and API as examples.</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="sql-like-database">SQL-like database<a href="#sql-like-database" class="hash-link" aria-label="SQL-like database的直接链接" title="SQL-like database的直接链接">​</a></h3><p>Step 1: Write SQL in Action</p><div class="codeBlockContainer__11l theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fxd6"><pre tabindex="0" class="prism-code language-text codeBlock_Aumj thin-scrollbar"><code class="codeBlockLines_FJ9o"><span class="token-line" style="color:#393A34"><span class="token plain">SELECT *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FROM users</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIMIT {{dataGrid1.pageSize}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OFFSET {{dataGrid1.page*dataGrid1.pageSize}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_vZty"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_hjbW" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_eGsx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_HNPu"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, we use <code>{{dataGrid1.pageSize}}</code> to determine how many records need to be returned for this query, and we use <code>{{dataGrid1.page*dataGrid1.pageSize}}</code> to calculate the offset for this request, indicating from which record to start returning.</p><p>Step 2: Changing &quot;Run action only when manually triggered&quot; to &quot;Run action automatically when inputs change&quot;</p><p>After that, every time you change the page number of dataGrid1, the action will be triggered automatically and  query data with the new page number.</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="api">API<a href="#api" class="hash-link" aria-label="API的直接链接" title="API的直接链接">​</a></h3><p>Step 1: Setting up paginated queries using a query</p><div class="codeBlockContainer__11l theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fxd6"><pre tabindex="0" class="prism-code language-text codeBlock_Aumj thin-scrollbar"><code class="codeBlockLines_FJ9o"><span class="token-line" style="color:#393A34"><span class="token plain">https://example.com?limit={{dataGrid1.pageSize}}&amp;skip={{dataGrid1.page*dataGrid1.pageSize}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_vZty"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_hjbW" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_eGsx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_HNPu"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Many common APIs use the parameters &quot;limit&quot; and &quot;skip&quot; for pagination. In this example, we use <code>{{dataGrid1.pageSize}}</code> to determine how many records need to be returned for this query, and we use <code>{{dataGrid1.page*dataGrid1.pageSize}}</code> to calculate the offset for this request, indicating from which record to start returning.</p><p>Step 2: Changing &quot;Run action only when manually triggered&quot; to &quot;Run action automatically when inputs change&quot;</p><p>After that, every time you change the page number of dataGrid1, the action will be triggered automatically and  query data with the new page number.</p><h2 class="anchor anchorWithStickyNavbar_O99L" id="cursor-based-pagination">Cursor based pagination<a href="#cursor-based-pagination" class="hash-link" aria-label="Cursor based pagination的直接链接" title="Cursor based pagination的直接链接">​</a></h2><p>Only supported on Grid List</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="properties-to-configure-1">Properties to configure<a href="#properties-to-configure-1" class="hash-link" aria-label="Properties to configure的直接链接" title="Properties to configure的直接链接">​</a></h3><table><thead><tr><th>Property name</th><th>Type</th><th>Description</th><th>Use example</th></tr></thead><tbody><tr><td>Previous cursor</td><td>string</td><td>When you paginate forward, we will update the &#x27;afterCursor&#x27; value to indicate to the API from which record to start querying data.</td><td>We can directly retrieve this value from the data returned by the API. For example, <code>{{cursorBased.data.data.repository.issues.pageInfo.startCursor}}</code></td></tr><tr><td>Next cursor</td><td>string</td><td>While you are paging backward, we will update the &quot;beforeCursor&quot; with this value, which will inform the API about the starting point for querying data in the backward direction.</td><td>We can directly retrieve this value from the data returned by the API. For example, <code>{{cursorBased.data.data.repository.issues.pageInfo.endCursor}}</code></td></tr><tr><td>Has next page</td><td>boolean</td><td>Used to determine if there is still a next page.</td><td>We can directly retrieve this value from the data returned by the API. For example, <code>{{cursorBased.data.data.repository.issues.pageInfo.hasNextPage}}</code></td></tr><tr><td>Page</td><td>number</td><td>Use <code>{{n}}</code> to set the number of records displayed per page. This is only used to inform the gridlist component about how many items should be displayed per page.</td><td><code>{{20}}</code></td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_O99L" id="state-of-components-1">State of components<a href="#state-of-components-1" class="hash-link" aria-label="State of components的直接链接" title="State of components的直接链接">​</a></h3><table><thead><tr><th>State name</th><th>Description</th></tr></thead><tbody><tr><td>beforeCursor</td><td>When paging, inform the API to start querying from a specific record number. When beforeCursor is empty, it indicates the need to page backward. Therefore, based on this value, the configuration for the subsequent action will specify whether to perform a backward or forward query. This will be further explained in the upcoming action configuration.</td></tr><tr><td>afterCursor</td><td>When paging, inform the API about the starting point for querying data. When afterCursor is empty, it indicates the need to page forward.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_O99L" id="configure-actions-1">Configure Actions<a href="#configure-actions-1" class="hash-link" aria-label="Configure Actions的直接链接" title="Configure Actions的直接链接">​</a></h3><p>Take GitHub&#x27;s GraphQL interface as example.</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="query">Query<a href="#query" class="hash-link" aria-label="Query的直接链接" title="Query的直接链接">​</a></h3><div class="codeBlockContainer__11l theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_fxd6"><pre tabindex="0" class="prism-code language-text codeBlock_Aumj thin-scrollbar"><code class="codeBlockLines_FJ9o"><span class="token-line" style="color:#393A34"><span class="token plain">query ($repoOwner: String!, $repoName: String!, $first: Int, $last: Int, $beforeCursor: String, $afterCursor: String) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   repository(owner: $repoOwner, name: $repoName) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      issues(first: $first, last: $last, before: $beforeCursor, after: $afterCursor, orderBy: {field: CREATED_AT, direction: DESC}) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         pageInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hasNextPage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hasPreviousPage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            endCursor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            startCursor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         totalCount</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         edges {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            cursor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            node {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               title</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">               url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_vZty"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_hjbW" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_eGsx"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_HNPu"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, we first ensure that the API response includes the following four values: <code>hasNextPage</code>, <code>hasPreviousPage</code>, <code>endCursor</code>, and <code>startCursor</code>. These values are used to configure the properties of the component.</p><p>And furthermore, we define some variables such as <code>beforeCursor</code>, <code>afterCursor</code>, etc., which need to be further set in the variables section under GraphQL.</p><h3 class="anchor anchorWithStickyNavbar_O99L" id="variables">Variables<a href="#variables" class="hash-link" aria-label="Variables的直接链接" title="Variables的直接链接">​</a></h3><table><thead><tr><th>key</th><th>value</th><th>description</th></tr></thead><tbody><tr><td>repoOwner</td><td>illacloud</td><td>To query the issues in illa-builder repository on illacloud.</td></tr><tr><td>repoName</td><td>illa-builder</td><td>To query the issues in illa-builder repository on illacloud.</td></tr><tr><td>beforeCursor</td><td><code>{{gridList1.beforeCursor}}</code></td><td>This is used to set the cursor from which to start the query when paging forward. If you are paging backward, the value of this field will be null and no further processing is required.</td></tr><tr><td>last</td><td><code>{{gridList1.beforeCursor ? gridList1.pageSize : null}}</code></td><td>The last parameter is used to set the number of records to query when paging forward. If the value of <code>{{gridList1.beforeCursor}}</code> is not null, indicating that you want to page forward, then this conditional statement will also use <code>{{gridList1.pageSize}}</code> as the number of records to query when paging forward. Similarly, if you are paging backward, this value will be empty.</td></tr><tr><td>afterCursor</td><td><code>{{gridList1.afterCursor}}</code></td><td>This is used to set the cursor from which to start the query when paging backward. If you are paging forward, the value of this field will be null.</td></tr><tr><td>first</td><td><code>{{!gridList1.beforeCursor ? gridList1.pageSize:null}}</code></td><td>The first parameter is used to set the number of records to query when paging forward. If the value of <code>{{gridList1.afterCursor}}</code> is not null, it confirms that you are paging backward. However, when you initially trigger the pagination, both beforeCursor and afterCursor are empty, resulting in an error in the query. Therefore, when both are empty, we assume that the user&#x27;s first pagination is always paging backward, so we only need to check if gridList1.beforeCursor is not empty. Once it is confirmed to be paging backward, this conditional statement will also use <code>{{gridList1.pageSize}}</code> as the number of records to query when paging backward.</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_O99L" id="demo">Demo<a href="#demo" class="hash-link" aria-label="Demo的直接链接" title="Demo的直接链接">​</a></h2><p><a href="https://illa.ai/app/ILAcx4p1C7gj/detail" target="_blank" rel="noopener noreferrer">https://illa.ai/app/ILAcx4p1C7gj/detail</a></p><p>You can fork this demo to your team to check the configuration. And you can change the resources to the following resources:</p><p><strong>GraphQL</strong></p><table><thead><tr><th>Field</th><th>Data</th></tr></thead><tbody><tr><td>Base URL</td><td><a href="https://api.github.com/graphql" target="_blank" rel="noopener noreferrer">https://api.github.com/graphql</a></td></tr><tr><td>Authentication</td><td>bearer</td></tr><tr><td>Bearer Token</td><td>Generate your personal token on GitHub</td></tr></tbody></table><p><strong>Rest API</strong></p><table><thead><tr><th>Field</th><th>Data</th></tr></thead><tbody><tr><td>Base URL</td><td><a href="https://dummyjson.com/" target="_blank" rel="noopener noreferrer">https://dummyjson.com/</a></td></tr></tbody></table><p><strong>PostgreSQL</strong></p><table><thead><tr><th>Field</th><th>Data</th></tr></thead><tbody><tr><td>Hostname</td><td>146.190.2.7</td></tr><tr><td>Port</td><td>30739</td></tr><tr><td>Database</td><td>illa_demo</td></tr><tr><td>Username</td><td>illa</td></tr><tr><td>Password</td><td>illa2022</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/illacloud/illa-doc/edit/main/i18n/zh/docusaurus-plugin-content-docs/current/server-side-pagination.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_IPv0" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_MQ8q"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/event-handler"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Event handler</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/self-hosted-deployment"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Self-hosted deployment</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_HK4P thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-enable-server-side-pagination" class="table-of-contents__link toc-highlight">How to enable server-side pagination</a></li><li><a href="#limit-offset-based-pagination" class="table-of-contents__link toc-highlight">Limit offset based pagination</a><ul><li><a href="#properties-to-configure" class="table-of-contents__link toc-highlight">Properties to configure</a></li><li><a href="#state-of-components" class="table-of-contents__link toc-highlight">State of components</a></li><li><a href="#configure-actions" class="table-of-contents__link toc-highlight">Configure Actions</a></li><li><a href="#sql-like-database" class="table-of-contents__link toc-highlight">SQL-like database</a></li><li><a href="#api" class="table-of-contents__link toc-highlight">API</a></li></ul></li><li><a href="#cursor-based-pagination" class="table-of-contents__link toc-highlight">Cursor based pagination</a><ul><li><a href="#properties-to-configure-1" class="table-of-contents__link toc-highlight">Properties to configure</a></li><li><a href="#state-of-components-1" class="table-of-contents__link toc-highlight">State of components</a></li><li><a href="#configure-actions-1" class="table-of-contents__link toc-highlight">Configure Actions</a></li><li><a href="#query" class="table-of-contents__link toc-highlight">Query</a></li><li><a href="#variables" class="table-of-contents__link toc-highlight">Variables</a></li></ul></li><li><a href="#demo" class="table-of-contents__link toc-highlight">Demo</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/zh/assets/js/runtime~main.dcd5edba.js"></script>
<script src="/zh/assets/js/main.f4dd2adc.js"></script>
</body>
</html>